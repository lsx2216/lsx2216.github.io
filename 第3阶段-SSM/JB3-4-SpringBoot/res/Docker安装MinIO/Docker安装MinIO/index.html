<!doctype html><html lang=en><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>MinIO</title>
<meta name=description content="S01. 安装MinIO容器 武技: 在Docker中安装一个单机的MinIO容器
准备MinIO的相关目录: # 准备MinIO相关目录 mkdir -p /opt/minio/conf; mkdir -p /opt/minio/data; chmod 777 -R /opt/minio; 创建并运行MinIO单机容 …"><meta name=keywords content='blog,lsx2216,hugo'><meta property="og:url" content="https://lsx2216.netlify.app/%E7%AC%AC3%E9%98%B6%E6%AE%B5-SSM/JB3-4-SpringBoot/res/Docker%E5%AE%89%E8%A3%85MinIO/Docker%E5%AE%89%E8%A3%85MinIO/"><meta property="og:type" content="website"><meta property="og:title" content="MinIO"><meta property="og:description" content="S01. 安装MinIO容器 武技: 在Docker中安装一个单机的MinIO容器
准备MinIO的相关目录: # 准备MinIO相关目录 mkdir -p /opt/minio/conf; mkdir -p /opt/minio/data; chmod 777 -R /opt/minio; 创建并运行MinIO单机容 …"><meta property="og:image" content="https://lsx2216.netlify.app/assets/images/user.jpg"><meta property="og:image:secure_url" content="https://lsx2216.netlify.app/assets/images/user.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="MinIO"><meta name=twitter:description content="S01. 安装MinIO容器 武技: 在Docker中安装一个单机的MinIO容器
准备MinIO的相关目录: # 准备MinIO相关目录 mkdir -p /opt/minio/conf; mkdir -p /opt/minio/data; chmod 777 -R /opt/minio; 创建并运行MinIO单机容 …"><meta property="twitter:domain" content="https://lsx2216.netlify.app/%E7%AC%AC3%E9%98%B6%E6%AE%B5-SSM/JB3-4-SpringBoot/res/Docker%E5%AE%89%E8%A3%85MinIO/Docker%E5%AE%89%E8%A3%85MinIO/"><meta property="twitter:url" content="https://lsx2216.netlify.app/%E7%AC%AC3%E9%98%B6%E6%AE%B5-SSM/JB3-4-SpringBoot/res/Docker%E5%AE%89%E8%A3%85MinIO/Docker%E5%AE%89%E8%A3%85MinIO/"><meta name=twitter:image content="https://lsx2216.netlify.app/assets/images/user.jpg"><link rel=canonical href=https://lsx2216.netlify.app/%E7%AC%AC3%E9%98%B6%E6%AE%B5-SSM/JB3-4-SpringBoot/res/Docker%E5%AE%89%E8%A3%85MinIO/Docker%E5%AE%89%E8%A3%85MinIO/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.3eb19cb61dde9e37b9522867f3e024aeb68e26ab8e03252e46e365abcb19acf7.js integrity="sha256-PrGcth3enje5Uihn8+AkrraOJquOAyUuRuNlq8sZrPc="></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css integrity=sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js integrity=sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})})</script>    <link rel="shortcut icon" href="/assets/images/user.jpg" type="image/x-icon">
</head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://lsx2216.netlify.app/><img src=/assets/images/user.jpg alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://lsx2216.netlify.app/>lsx2216</a></div><div class=nav-links><div class=nav-link><a href=https://lsx2216.netlify.app/ aria-label><span data-feather=home></span> Home</a></div><div class=nav-link><a href=https://lsx2216.netlify.app/projects/ aria-label><span data-feather=code></span> Projects</a></div><div class=nav-link><a href=https://github.com aria-label=github><span data-feather=github></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a aria-hidden=true role=switch><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a aria-checked=false aria-labelledby=hamburger-menu-toggle id=hamburger-menu-toggle-target role=switch><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://lsx2216.netlify.app/><span data-feather=home></span> Home</a></li><li class=nav-item><a href=https://lsx2216.netlify.app/projects/><span data-feather=code></span> Projects</a></li><li class=nav-item><a href=https://github.com><span data-feather=github></span></a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a role=switch><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>MinIO</h1></div><div class=post-content><h1 id=s01-安装minio容器>S01. 安装MinIO容器</h1><blockquote><p>武技: 在Docker中安装一个单机的MinIO容器</p></blockquote><ol><li>准备MinIO的相关目录:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#75715e># 准备MinIO相关目录</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>mkdir -p /opt/minio/conf;<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>mkdir -p /opt/minio/data;<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>chmod <span style=color:#ae81ff>777</span> -R /opt/minio;<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><ol start=2><li>创建并运行MinIO单机容器:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#75715e># 拉取镜像（二选一）</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>docker pull minio/minio:RELEASE.2023-08-31T15-31-16Z;<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>docker pull registry.cn-hangzhou.aliyuncs.com/lsx/minio:2023;<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 创建并运行MinIO容器</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># arg: `-e &#34;MINIO_ACCESS_KEY=minioadmin&#34;`: 访问账号</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># arg: `-e &#34;MINIO_SECRET_KEY=minioadmin&#34;`: 访问密码</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># arg: `server /data`: 将数据存储在data目录中</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># arg: `--console-adress`: 控制台访问地址</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># arg: `--address`: API访问地址</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 账号长度必须大于等于5，密码长度必须大于等于8</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>docker run --name minio -d -p 9000:9000 -p 9001:9001 --network my-net <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -e <span style=color:#e6db74>&#34;MINIO_ACCESS_KEY=minioadmin&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -e <span style=color:#e6db74>&#34;MINIO_SECRET_KEY=minioadmin&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -v /opt/minio/conf:/root/.minio <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  -v /opt/minio/data:/data <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  registry.cn-hangzhou.aliyuncs.com/lsx/minio:2023 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  server /data --console-address <span style=color:#e6db74>&#34;:9000&#34;</span> --address <span style=color:#e6db74>&#34;:9001&#34;</span><span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><ol start=3><li><a href=http://192.168.40.77:9000>访问MinIO管控台</a>: 使用 <code>minioadmin/minioadmin</code> 登录。</li></ol><h1 id=s02-配置minio容器>S02. 配置MinIO容器</h1><blockquote><p>武技: 在MinIO管控台配置MinIO容器</p></blockquote><h2 id=e01-创建用户>E01. 创建用户</h2><ol><li>在MinIO管控台中创建用户组:</li></ol><p><img src=/%E7%AC%AC3%E9%98%B6%E6%AE%B5-SSM/JB3-4-SpringBoot/res/Docker%E5%AE%89%E8%A3%85MinIO/image/890df5673c3b7765391d025f3f2da199.png alt=截图></p><ol start=2><li>在MinIO管控台中创建用户:</li></ol><p><img src=/%E7%AC%AC3%E9%98%B6%E6%AE%B5-SSM/JB3-4-SpringBoot/res/Docker%E5%AE%89%E8%A3%85MinIO/image/d06cb35e1b68538b7d3441eeeef9728e.png alt=截图></p><h2 id=e02-管理私钥>E02. 管理私钥</h2><ol><li>在MinIO管控台中创建AccessKey:</li></ol><p><img src=/%E7%AC%AC3%E9%98%B6%E6%AE%B5-SSM/JB3-4-SpringBoot/res/Docker%E5%AE%89%E8%A3%85MinIO/image/6540e7dc9d1fa59927225db885763c30.png alt=截图></p><ol start=2><li>在MinIO管控台中下载AccessKeys到本地: 该文件丢失不可找回。</li></ol><p><img src=/%E7%AC%AC3%E9%98%B6%E6%AE%B5-SSM/JB3-4-SpringBoot/res/Docker%E5%AE%89%E8%A3%85MinIO/image/745f7c7407e6bd778360f2f38cce4d0a.png alt=截图></p><h2 id=e03-创建数据桶>E03. 创建数据桶</h2><ol><li>在MinIO管控台中创建Bucket数据桶:</li></ol><p><img src=/%E7%AC%AC3%E9%98%B6%E6%AE%B5-SSM/JB3-4-SpringBoot/res/Docker%E5%AE%89%E8%A3%85MinIO/image/a6bed474d0c79adfb5954ccf4fa77df7.png alt=截图></p><ol start=2><li>在MinIO管控台中修改Bucket数据桶: 默认Private权限，可以上传却无法读取:</li></ol><p><img src=/%E7%AC%AC3%E9%98%B6%E6%AE%B5-SSM/JB3-4-SpringBoot/res/Docker%E5%AE%89%E8%A3%85MinIO/image/9a290b1e9daf27b144409e696edd386f.png alt=截图></p><h2 id=e04-手动上传对象>E04. 手动上传对象</h2><ol><li>在MinIO管控台中创建上传目录:</li></ol><p><img src=/%E7%AC%AC3%E9%98%B6%E6%AE%B5-SSM/JB3-4-SpringBoot/res/Docker%E5%AE%89%E8%A3%85MinIO/image/07f9b690c9248cbec1c29a8d0d7b81fe.png alt=截图></p><ol start=2><li>在MinIO管控台中上传文件:</li></ol><p><img src=/%E7%AC%AC3%E9%98%B6%E6%AE%B5-SSM/JB3-4-SpringBoot/res/Docker%E5%AE%89%E8%A3%85MinIO/image/f81c770e75868bf013203d12d5764f47.png alt=截图></p><ol start=3><li>访问文件: 只有 <code>Public</code> 权限的桶内资源才可以被访问:</li><li><a href=http://192.168.40.77:9001/lesson-bucket/avatar/bizhi-001.jpg>访问对象</a>: 注意MinIO端口号为API端口号。</li></ol></div><svg id="btt-button" class="arrow-logo" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512" onclick="scrollToTop()" title="Go to top"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg>
<script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function scrollToTop(){window.scrollTo(0,0)}</script></div></main><footer class=footer><span>&copy; 2024 The Marauders</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/gokarna-theme/gokarna-hugo>Gokarna</a></span></footer></body></html>