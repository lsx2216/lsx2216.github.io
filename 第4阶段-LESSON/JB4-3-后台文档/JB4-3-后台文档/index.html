<!doctype html><html lang=en><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>JB4-3-后台文档</title>
<meta name=description content="[!NOTE] Java道经第4卷 - 第3阶 - 后台文档 lesson-admin-doc
S01. JDBC实战准备 E01. 搭建项目环境 武技: 创建War包子项目 lesson-admin-doc
进入 File -&amp;gt; New Module 界面，左侧选择 Maven 选项卡。 勾选 Create …"><meta name=keywords content='blog,lsx2216,hugo'><meta property="og:url" content="https://lsx2216.netlify.app/%E7%AC%AC4%E9%98%B6%E6%AE%B5-LESSON/JB4-3-%E5%90%8E%E5%8F%B0%E6%96%87%E6%A1%A3/JB4-3-%E5%90%8E%E5%8F%B0%E6%96%87%E6%A1%A3/"><meta property="og:type" content="website"><meta property="og:title" content="JB4-3-后台文档"><meta property="og:description" content="[!NOTE] Java道经第4卷 - 第3阶 - 后台文档 lesson-admin-doc
S01. JDBC实战准备 E01. 搭建项目环境 武技: 创建War包子项目 lesson-admin-doc
进入 File -&amp;gt; New Module 界面，左侧选择 Maven 选项卡。 勾选 Create …"><meta property="og:image" content="https://lsx2216.netlify.app/assets/images/user.jpg"><meta property="og:image:secure_url" content="https://lsx2216.netlify.app/assets/images/user.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="JB4-3-后台文档"><meta name=twitter:description content="[!NOTE] Java道经第4卷 - 第3阶 - 后台文档 lesson-admin-doc
S01. JDBC实战准备 E01. 搭建项目环境 武技: 创建War包子项目 lesson-admin-doc
进入 File -&amp;gt; New Module 界面，左侧选择 Maven 选项卡。 勾选 Create …"><meta property="twitter:domain" content="https://lsx2216.netlify.app/%E7%AC%AC4%E9%98%B6%E6%AE%B5-LESSON/JB4-3-%E5%90%8E%E5%8F%B0%E6%96%87%E6%A1%A3/JB4-3-%E5%90%8E%E5%8F%B0%E6%96%87%E6%A1%A3/"><meta property="twitter:url" content="https://lsx2216.netlify.app/%E7%AC%AC4%E9%98%B6%E6%AE%B5-LESSON/JB4-3-%E5%90%8E%E5%8F%B0%E6%96%87%E6%A1%A3/JB4-3-%E5%90%8E%E5%8F%B0%E6%96%87%E6%A1%A3/"><meta name=twitter:image content="https://lsx2216.netlify.app/assets/images/user.jpg"><link rel=canonical href=https://lsx2216.netlify.app/%E7%AC%AC4%E9%98%B6%E6%AE%B5-LESSON/JB4-3-%E5%90%8E%E5%8F%B0%E6%96%87%E6%A1%A3/JB4-3-%E5%90%8E%E5%8F%B0%E6%96%87%E6%A1%A3/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.3eb19cb61dde9e37b9522867f3e024aeb68e26ab8e03252e46e365abcb19acf7.js integrity="sha256-PrGcth3enje5Uihn8+AkrraOJquOAyUuRuNlq8sZrPc="></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css integrity=sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js integrity=sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})})</script>    <link rel="shortcut icon" href="/assets/images/user.jpg" type="image/x-icon">
</head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://lsx2216.netlify.app/><img src=/assets/images/user.jpg alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://lsx2216.netlify.app/>lsx2216</a></div><div class=nav-links><div class=nav-link><a href=https://lsx2216.netlify.app/ aria-label><span data-feather=home></span> Home</a></div><div class=nav-link><a href=https://lsx2216.netlify.app/projects/ aria-label><span data-feather=code></span> Projects</a></div><div class=nav-link><a href=https://github.com aria-label=github><span data-feather=github></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a aria-hidden=true role=switch><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a aria-checked=false aria-labelledby=hamburger-menu-toggle id=hamburger-menu-toggle-target role=switch><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://lsx2216.netlify.app/><span data-feather=home></span> Home</a></li><li class=nav-item><a href=https://lsx2216.netlify.app/projects/><span data-feather=code></span> Projects</a></li><li class=nav-item><a href=https://github.com><span data-feather=github></span></a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a role=switch><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>JB4-3-后台文档</h1></div><div class=post-content><blockquote><p>[!NOTE] Java道经第4卷 - 第3阶 - 后台文档
lesson-admin-doc</p></blockquote><h1 id=s01-jdbc实战准备>S01. JDBC实战准备</h1><h2 id=e01-搭建项目环境>E01. 搭建项目环境</h2><blockquote><p>武技: 创建War包子项目 <code>lesson-admin-doc</code></p></blockquote><ol><li>进入 <code>File -> New Module</code> 界面，左侧选择 <code>Maven</code> 选项卡。</li><li>勾选 <code>Create from archetype</code> 选项:<ul><li>在下方选择 <code>org.apache.maven.archetypes:maven-archetype-webapp</code> 并点击 <code>Next</code> 按钮。</li></ul></li></ol><p><img src=/%E7%AC%AC4%E9%98%B6%E6%AE%B5-LESSON/JB4-3-%E5%90%8E%E5%8F%B0%E6%96%87%E6%A1%A3/image/0d9c7739750aed084ed54ac14e9fb290.png alt=截图></p><ol start=3><li>输入项目名称 <code>lesson-document</code> 并点击 <code>Next</code> 按钮。</li><li>检查Maven相关地址和配置路径，然后点击 <code>Next</code> 按钮。</li></ol><h2 id=e02-添加项目依赖>E02. 添加项目依赖</h2><blockquote><p>武技: 在 <code>lesson-document</code> 子项目中添加相关依赖</p></blockquote><ol><li>在父项目中锁定版本:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;junit-version&gt;</span>4.13.2<span style=color:#f92672>&lt;/junit-version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;lombok-version&gt;</span>1.18.24<span style=color:#f92672>&lt;/lombok-version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;hutool-version&gt;</span>5.8.14<span style=color:#f92672>&lt;/hutool-version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;mysql-connector-j-version&gt;</span>8.0.33<span style=color:#f92672>&lt;/mysql-connector-j-version&gt;</span>
</span></span></code></pre></div><ol start=2><li>在父项目中管理依赖:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!--junit--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>junit<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>junit<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;version&gt;</span>${junit-version}<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;scope&gt;</span>test<span style=color:#f92672>&lt;/scope&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--lombok--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>org.projectlombok<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>lombok<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;version&gt;</span>${lombok-version}<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;scope&gt;</span>provided<span style=color:#f92672>&lt;/scope&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--hutool-all--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>cn.hutool<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>hutool-all<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;version&gt;</span>${hutool-version}<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--mysql-connector-j--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>com.mysql<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>mysql-connector-j<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;version&gt;</span>${mysql-connector-j-version}<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;scope&gt;</span>runtime<span style=color:#f92672>&lt;/scope&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div><ol start=3><li>在子项目 <code>lesson-document</code> 中引入依赖:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!--junit--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>junit<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>junit<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--lombok--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>org.projectlombok<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>lombok<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--hutool--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>cn.hutool<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>hutool-all<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--mysql-connector-j--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>com.mysql<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>mysql-connector-j<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div><h2 id=e03-准备项目数据>E03. 准备项目数据</h2><blockquote><p>心法: <code>lesson-document</code> 测试数据库</p></blockquote><p><img src=/%E7%AC%AC4%E9%98%B6%E6%AE%B5-LESSON/JB4-3-%E5%90%8E%E5%8F%B0%E6%96%87%E6%A1%A3/image/2c0114547828d8d29789e3c5e74c901a.png alt=截图></p><blockquote><p>武技: 构建测试数据库</p></blockquote><ol><li>构建测试数据库:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#75715e>-- db
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>create</span> <span style=color:#66d9ef>database</span> lesson_document <span style=color:#66d9ef>default</span> charset utf8mb4;
</span></span><span style=display:flex><span>use lesson_document;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- table
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>drop</span> <span style=color:#66d9ef>table</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>exists</span> lesson_document.module;
</span></span><span style=display:flex><span><span style=color:#66d9ef>create</span> <span style=color:#66d9ef>table</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>exists</span> lesson_document.module
</span></span><span style=display:flex><span>(
</span></span><span style=display:flex><span>    module_id   int           auto_increment      <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;模块主键&#39;</span>,
</span></span><span style=display:flex><span>    module_name varchar(<span style=color:#ae81ff>128</span>)  <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;模块名称&#39;</span>,
</span></span><span style=display:flex><span>    module_info varchar(<span style=color:#ae81ff>1024</span>) <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;模块描述&#39;</span>,
</span></span><span style=display:flex><span>    create_time bigint        <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#ae81ff>0</span>  <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;首次创建日期，时间戳&#39;</span>,
</span></span><span style=display:flex><span>    modify_time bigint        <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#ae81ff>0</span>  <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;最后修改日期，时间戳&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>primary</span> <span style=color:#66d9ef>key</span> (module_id),
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>unique</span> (module_name)
</span></span><span style=display:flex><span>) <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;模块表&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>drop</span> <span style=color:#66d9ef>table</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>exists</span> lesson_document.<span style=color:#66d9ef>method</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>create</span> <span style=color:#66d9ef>table</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>exists</span> lesson_document.<span style=color:#66d9ef>method</span>
</span></span><span style=display:flex><span>(
</span></span><span style=display:flex><span>    method_id      int           auto_increment      <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;方法主键&#39;</span>,
</span></span><span style=display:flex><span>    method_title   varchar(<span style=color:#ae81ff>128</span>)  <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;方法标题&#39;</span>,
</span></span><span style=display:flex><span>    method_info    varchar(<span style=color:#ae81ff>1024</span>) <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;方法描述&#39;</span>,
</span></span><span style=display:flex><span>    request_url    varchar(<span style=color:#ae81ff>512</span>)  <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;请求接口地址&#39;</span>,
</span></span><span style=display:flex><span>    request_method varchar(<span style=color:#ae81ff>128</span>)  <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;请求方式&#39;</span>,
</span></span><span style=display:flex><span>    request_mime   varchar(<span style=color:#ae81ff>128</span>)  <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;请求MIME类型&#39;</span>,
</span></span><span style=display:flex><span>    response_mime  varchar(<span style=color:#ae81ff>128</span>)  <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;响应MIME类型&#39;</span>,
</span></span><span style=display:flex><span>    create_time    bigint        <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#ae81ff>0</span>  <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;首次创建日期，时间戳&#39;</span>,
</span></span><span style=display:flex><span>    modify_time    bigint        <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#ae81ff>0</span>  <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;最后修改日期，时间戳&#39;</span>,
</span></span><span style=display:flex><span>    fk_module_id   int                               <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;模块表外键&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>primary</span> <span style=color:#66d9ef>key</span> (method_id),
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>unique</span> (request_url)
</span></span><span style=display:flex><span>) <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;方法表&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>drop</span> <span style=color:#66d9ef>table</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>exists</span> lesson_document.<span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>create</span> <span style=color:#66d9ef>table</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>exists</span> lesson_document.<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>(
</span></span><span style=display:flex><span>    return_id      int           auto_increment       <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;返回值主键&#39;</span>,
</span></span><span style=display:flex><span>    return_code    int           <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#ae81ff>200</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;响应状态码&#39;</span>,
</span></span><span style=display:flex><span>    return_message varchar(<span style=color:#ae81ff>1024</span>) <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span>  <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;响应状态描述&#39;</span>,
</span></span><span style=display:flex><span>    return_data    varchar(<span style=color:#ae81ff>1024</span>) <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#ae81ff>200</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;响应数据描述&#39;</span>,
</span></span><span style=display:flex><span>    create_time    bigint        <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#ae81ff>0</span>   <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;首次创建日期，时间戳&#39;</span>,
</span></span><span style=display:flex><span>    modify_time    bigint        <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#ae81ff>0</span>   <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;最后修改日期，时间戳&#39;</span>,
</span></span><span style=display:flex><span>    fk_method_id   int                                <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;方法表外键&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>primary</span> <span style=color:#66d9ef>key</span> (return_id)
</span></span><span style=display:flex><span>) <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;返回值表&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>drop</span> <span style=color:#66d9ef>table</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>exists</span> lesson_document.param;
</span></span><span style=display:flex><span><span style=color:#66d9ef>create</span> <span style=color:#66d9ef>table</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>exists</span> lesson_document.param
</span></span><span style=display:flex><span>(
</span></span><span style=display:flex><span>    param_id      int           auto_increment      <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;参数主键&#39;</span>,
</span></span><span style=display:flex><span>    param_name    varchar(<span style=color:#ae81ff>256</span>)  <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;参数名称&#39;</span>,
</span></span><span style=display:flex><span>    param_type    varchar(<span style=color:#ae81ff>256</span>)  <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;参数类型&#39;</span>,
</span></span><span style=display:flex><span>    param_info    varchar(<span style=color:#ae81ff>1024</span>) <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;参数描述&#39;</span>,
</span></span><span style=display:flex><span>    required      tinyint       <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#ae81ff>0</span>  <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;参数是否必填，0非必填，1必填&#39;</span>,
</span></span><span style=display:flex><span>    default_value varchar(<span style=color:#ae81ff>256</span>)  <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;参数默认值&#39;</span>,
</span></span><span style=display:flex><span>    create_time   bigint        <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#ae81ff>0</span>  <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;首次创建日期，时间戳&#39;</span>,
</span></span><span style=display:flex><span>    modify_time   bigint        <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>default</span> <span style=color:#ae81ff>0</span>  <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;最后修改日期，时间戳&#39;</span>,
</span></span><span style=display:flex><span>    fk_method_id  int                               <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;方法表外键&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>primary</span> <span style=color:#66d9ef>key</span> (param_id),
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>unique</span> (param_name)
</span></span><span style=display:flex><span>) <span style=color:#66d9ef>comment</span> <span style=color:#e6db74>&#39;参数表&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- index
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>create</span> <span style=color:#66d9ef>index</span> i_param_param_name <span style=color:#66d9ef>on</span> lesson_document.param (param_name);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- data
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>insert</span> <span style=color:#66d9ef>into</span> lesson_document.module
</span></span><span style=display:flex><span><span style=color:#66d9ef>values</span> (<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;用户模块&#39;</span>,   <span style=color:#e6db74>&#39;用户模块详细介绍&#39;</span>,   <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;轮播图模块&#39;</span>, <span style=color:#e6db74>&#39;轮播图模块详细介绍&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#39;视频模块&#39;</span>,   <span style=color:#e6db74>&#39;视频模块详细介绍&#39;</span>,   <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>4</span>, <span style=color:#e6db74>&#39;订单模块&#39;</span>,   <span style=color:#e6db74>&#39;订单模块详细介绍&#39;</span>,   <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>5</span>, <span style=color:#e6db74>&#39;购物车模块&#39;</span>, <span style=color:#e6db74>&#39;购物车模块详细介绍&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>insert</span> <span style=color:#66d9ef>into</span> lesson_document.<span style=color:#66d9ef>method</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>values</span> (<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;用户信息注册&#39;</span>, <span style=color:#e6db74>&#39;注册一条用户信息&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/user/register&#39;</span>, <span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;账号密码登录&#39;</span>, <span style=color:#e6db74>&#39;按账号密码登录系统&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/user/login&#39;</span>, <span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#39;按主键单查用户&#39;</span>, <span style=color:#e6db74>&#39;按用户主键查询一条用户记录，需要token验证&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/user/selectByUserIid&#39;</span>, <span style=color:#e6db74>&#39;GET&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>4</span>, <span style=color:#e6db74>&#39;按主键修改用户&#39;</span>, <span style=color:#e6db74>&#39;按用户主键修改一条用户记录，需要token验证&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/user/updateByUserId&#39;</span>, <span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>5</span>, <span style=color:#e6db74>&#39;按主键修改密码&#39;</span>, <span style=color:#e6db74>&#39;按用户主键修改用户的密码，需要token验证&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/user/updatePasswordByUserId&#39;</span>, <span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>6</span>, <span style=color:#e6db74>&#39;按主键单删用户&#39;</span>, <span style=color:#e6db74>&#39;按用户主键删除一条用户记录，需要token验证&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/user/deleteByUserId&#39;</span>, <span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>7</span>, <span style=color:#e6db74>&#39;按主键修改头像&#39;</span>, <span style=color:#e6db74>&#39;按用户主键修改用户的头像，需要token验证&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/user/updateAvatarByUserId&#39;</span>, <span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;multipart/form-data&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>8</span>, <span style=color:#e6db74>&#39;获取验证码&#39;</span>, <span style=color:#e6db74>&#39;按手机号码获取验证码&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/user/getVerificationCode&#39;</span>, <span style=color:#e6db74>&#39;GET&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>9</span>, <span style=color:#e6db74>&#39;按手机号登录&#39;</span>, <span style=color:#e6db74>&#39;按手机号和验证码进行登录&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/user/loginByPhone&#39;</span>, <span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>10</span>, <span style=color:#e6db74>&#39;查询用户积分&#39;</span>, <span style=color:#e6db74>&#39;按主键查询用户积分&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/user/selectPointsByUserId&#39;</span>, <span style=color:#e6db74>&#39;GET&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>11</span>, <span style=color:#e6db74>&#39;全查轮播图&#39;</span>, <span style=color:#e6db74>&#39;查询最多5条Banner表记录，按权重升序&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/banner/list&#39;</span>, <span style=color:#e6db74>&#39;GET&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>12</span>, <span style=color:#e6db74>&#39;按主键查询视频&#39;</span>, <span style=color:#e6db74>&#39;按视频表主键查询视频详细信息，包括章节信息&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/video/selectDetailByVideoId&#39;</span>, <span style=color:#e6db74>&#39;GET&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>3</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>13</span>, <span style=color:#e6db74>&#39;按标题搜索视频&#39;</span>, <span style=color:#e6db74>&#39;按视频标题分页搜索视频&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/video/searchByTitle&#39;</span>, <span style=color:#e6db74>&#39;GET&#39;</span>, <span style=color:#e6db74>&#39;multipart/form-data&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>3</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>14</span>, <span style=color:#e6db74>&#39;新增订单记录&#39;</span>, <span style=color:#e6db74>&#39;添加一条订单记录，需要token验证&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/order/insert&#39;</span>, <span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>4</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>15</span>, <span style=color:#e6db74>&#39;按主键删除订单&#39;</span>, <span style=color:#e6db74>&#39;按订单表主键删除一条订单记录，需要token验证&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/order/deleteByOrderId&#39;</span>, <span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>4</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>16</span>, <span style=color:#e6db74>&#39;新增购物车记录&#39;</span>, <span style=color:#e6db74>&#39;添加一条购物车记录，需要token验证&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/cart/insertOrUpdate&#39;</span>, <span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>5</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>17</span>, <span style=color:#e6db74>&#39;查询个人购物车&#39;</span>, <span style=color:#e6db74>&#39;按用户主键查询全部购物车记录，需要token验证&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/cart/selectByUserId&#39;</span>, <span style=color:#e6db74>&#39;GET&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>5</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>18</span>, <span style=color:#e6db74>&#39;批量删除购物车&#39;</span>, <span style=color:#e6db74>&#39;按用户主键和商品主键数组批量删除购物车记录，需要token验证&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/cart/deleteByUserIdAndVideoIds&#39;</span>, <span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>5</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>19</span>, <span style=color:#e6db74>&#39;清空购物车&#39;</span>, <span style=color:#e6db74>&#39;按用户主键清空购物车记录，需要token验证&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;/api/v1/cart/deleteByUserId&#39;</span>, <span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;application/json&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;application/json&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>insert</span> <span style=color:#66d9ef>into</span> lesson_document.param
</span></span><span style=display:flex><span><span style=color:#66d9ef>values</span> (<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;username&#39;</span>,  <span style=color:#e6db74>&#39;String&#39;</span>, <span style=color:#e6db74>&#39;注册账号&#39;</span>, <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;password&#39;</span>,  <span style=color:#e6db74>&#39;String&#39;</span>, <span style=color:#e6db74>&#39;注册密码&#39;</span>, <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#39;realName&#39;</span>, <span style=color:#e6db74>&#39;String&#39;</span>, <span style=color:#e6db74>&#39;真实姓名&#39;</span>, <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>4</span>, <span style=color:#e6db74>&#39;idCard&#39;</span>,   <span style=color:#e6db74>&#39;String&#39;</span>, <span style=color:#e6db74>&#39;身份证号&#39;</span>, <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>5</span>, <span style=color:#e6db74>&#39;phone&#39;</span>,     <span style=color:#e6db74>&#39;String&#39;</span>, <span style=color:#e6db74>&#39;电话号码&#39;</span>, <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>insert</span> <span style=color:#66d9ef>into</span> lesson_document.<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>values</span> (<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;200&#39;</span>, <span style=color:#e6db74>&#39;注册成功&#39;</span>, <span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>       (<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;500&#39;</span>, <span style=color:#e6db74>&#39;注册失败&#39;</span>, <span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>commit</span>;
</span></span></code></pre></div><h2 id=e04-开发jdbc模板>E04. 开发JDBC模板</h2><blockquote><p>武技: 在 <code>lesson-document</code> 子项目中开发JDBC模板</p></blockquote><ol><li>开发数据源文件 <code>db.properties</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#a6e22e>jdbc.driver</span><span style=color:#f92672>=</span><span style=color:#e6db74>com.mysql.cj.jdbc.Driver</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>jdbc.url</span><span style=color:#f92672>=</span><span style=color:#e6db74>jdbc:mysql://192.168.40.77:3306/lesson_document\
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  ?serverTimezone=Asia/Shanghai\
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &amp;useUnicode=true&amp;characterEncoding=utf8\
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &amp;useSSL=false&amp;allowPublicKeyRetrieval=true</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>jdbc.username</span><span style=color:#f92672>=</span><span style=color:#e6db74>lsx</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>jdbc.password</span><span style=color:#f92672>=</span><span style=color:#e6db74>lsx</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>jdbc.connection_size</span><span style=color:#f92672>=</span><span style=color:#e6db74>10</span>
</span></span></code></pre></div><ol start=2><li>开发JDBC数据源类 <code>DataSource</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.jdbc;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DataSource</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**连接池属性*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> List<span style=color:#f92672>&lt;</span>Connection<span style=color:#f92672>&gt;</span> CONNECTION_POOL <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;</span>();
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**属性文件*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> ResourceBundle RESOURCE_BUNDLE <span style=color:#f92672>=</span> PropertyResourceBundle.<span style=color:#a6e22e>getBundle</span>(<span style=color:#e6db74>&#34;db&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**驱动串*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> String driver;
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**连接串*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> String url;
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**连库账号*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> String username;
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**连库密码*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> String password;
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**连接池大小属性*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> Integer connectionSize;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            driver <span style=color:#f92672>=</span> RESOURCE_BUNDLE.<span style=color:#a6e22e>getString</span>(<span style=color:#e6db74>&#34;jdbc.driver&#34;</span>);
</span></span><span style=display:flex><span>            url <span style=color:#f92672>=</span> RESOURCE_BUNDLE.<span style=color:#a6e22e>getString</span>(<span style=color:#e6db74>&#34;jdbc.url&#34;</span>);
</span></span><span style=display:flex><span>            username <span style=color:#f92672>=</span> RESOURCE_BUNDLE.<span style=color:#a6e22e>getString</span>(<span style=color:#e6db74>&#34;jdbc.username&#34;</span>);
</span></span><span style=display:flex><span>            password <span style=color:#f92672>=</span> RESOURCE_BUNDLE.<span style=color:#a6e22e>getString</span>(<span style=color:#e6db74>&#34;jdbc.password&#34;</span>);
</span></span><span style=display:flex><span>            connectionSize <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>valueOf</span>(RESOURCE_BUNDLE.<span style=color:#a6e22e>getString</span>(<span style=color:#e6db74>&#34;jdbc.connection_size&#34;</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 驱动数据库</span>
</span></span><span style=display:flex><span>            Class.<span style=color:#a6e22e>forName</span>(driver);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 循环创建连接，并加入连接池</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0; i <span style=color:#f92672>&lt;</span> connectionSize; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                CONNECTION_POOL.<span style=color:#a6e22e>add</span>(DriverManager.<span style=color:#a6e22e>getConnection</span>(url, username, password));
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (ClassNotFoundException <span style=color:#f92672>|</span> SQLException e) {
</span></span><span style=display:flex><span>            e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 同步获取一个Connection连接
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 一个Connection连接
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>synchronized</span> Connection <span style=color:#a6e22e>getConnection</span>() {
</span></span><span style=display:flex><span>        Connection result <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (CONNECTION_POOL.<span style=color:#a6e22e>isEmpty</span>()) {
</span></span><span style=display:flex><span>                <span style=color:#75715e>// 若当前CONNECTION_POOL中没有连接，则创建一个新的连接并返回</span>
</span></span><span style=display:flex><span>                result <span style=color:#f92672>=</span> DriverManager.<span style=color:#a6e22e>getConnection</span>(url, username, password);
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#75715e>// 若当前CONNECTION_POOL中还有连接，就从CONNECTION_POOL中remove一个连接并返回</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>// remove(0)，表示返回并删除列表中的第0个元素</span>
</span></span><span style=display:flex><span>                result <span style=color:#f92672>=</span> CONNECTION_POOL.<span style=color:#a6e22e>remove</span>(0);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (SQLException e) {
</span></span><span style=display:flex><span>            e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> result;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 关闭指定的Connection连接
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param connection 指定的Connection连接实例
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>closeConnection</span>(Connection connection) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (connection <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span>) {
</span></span><span style=display:flex><span>                <span style=color:#75715e>// 若当前CONNECTION_POOL中连接数量达到最大，则直接关闭新来的连接</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (CONNECTION_POOL.<span style=color:#a6e22e>size</span>() <span style=color:#f92672>==</span> connectionSize) {
</span></span><span style=display:flex><span>                    connection.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>                } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                    <span style=color:#75715e>// 若当前CONNECTION_POOL中仍有空余位置，则回收新来的连接</span>
</span></span><span style=display:flex><span>                    CONNECTION_POOL.<span style=color:#a6e22e>add</span>(connection);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (SQLException e) {
</span></span><span style=display:flex><span>            e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>开发JDBC模板类 <code>JdbcTemplate</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.jdbc;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>JdbcTemplate</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** 数据源 */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> DataSource dataSource <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DataSource();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 执行DDL语句
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param sql SQL语句
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 仅当返回结果的类型是ResultSet时返回true
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>execute</span>(String sql) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>boolean</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>        Connection connection <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        Statement statement <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 获取Connection连接实例</span>
</span></span><span style=display:flex><span>            connection <span style=color:#f92672>=</span> dataSource.<span style=color:#a6e22e>getConnection</span>();
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 获取Statement媒介实例，用于发送SQL，执行SQL并带回结果</span>
</span></span><span style=display:flex><span>            statement <span style=color:#f92672>=</span> connection.<span style=color:#a6e22e>createStatement</span>();
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 将SQL发送到数据库执行，仅当返回结果的类型是ResultSet时返回true</span>
</span></span><span style=display:flex><span>            result <span style=color:#f92672>=</span> statement.<span style=color:#a6e22e>execute</span>(sql);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (SQLException e) {
</span></span><span style=display:flex><span>            e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>finally</span> {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 顺序关闭媒介实例和连接实例，以节省资源</span>
</span></span><span style=display:flex><span>            closeStatement(statement);
</span></span><span style=display:flex><span>            dataSource.<span style=color:#a6e22e>closeConnection</span>(connection);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> result;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 执行DML语句
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param sql    SQL语句
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param params SQL参数数组
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>update</span>(String sql, Object... params) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> result <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>1;
</span></span><span style=display:flex><span>        Connection connection <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        PreparedStatement prepareStatement <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 获取Connection连接实例</span>
</span></span><span style=display:flex><span>            connection <span style=color:#f92672>=</span> dataSource.<span style=color:#a6e22e>getConnection</span>();
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 获取PrepareStatement媒介实例，该媒介类型支持动态绑定问号</span>
</span></span><span style=display:flex><span>            prepareStatement <span style=color:#f92672>=</span> connection.<span style=color:#a6e22e>prepareStatement</span>(sql);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 将SQL发送到数据库，执行，并带回int结果</span>
</span></span><span style=display:flex><span>            result <span style=color:#f92672>=</span> sendSqlAndGetInt(prepareStatement, params);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (SQLException e) {
</span></span><span style=display:flex><span>            e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>finally</span> {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 顺序关闭媒介实例和连接实例，以节省资源</span>
</span></span><span style=display:flex><span>            closeStatement(prepareStatement);
</span></span><span style=display:flex><span>            dataSource.<span style=color:#a6e22e>closeConnection</span>(connection);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> result;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 执行批量相同SQL的DML语句
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param sql    SQL语句
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param params SQL参数数组
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#a6e22e>batchUpdate</span>(String sql, Object<span style=color:#f92672>[]</span>... params) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        Connection connection <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        PreparedStatement prepareStatement <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 获取Connection连接实例</span>
</span></span><span style=display:flex><span>            connection <span style=color:#f92672>=</span> dataSource.<span style=color:#a6e22e>getConnection</span>();
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 关闭连接实例 `connection` 的自动提交属性</span>
</span></span><span style=display:flex><span>            connection.<span style=color:#a6e22e>setAutoCommit</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 获取PrepareStatement媒介实例，该媒介类型支持动态绑定问号</span>
</span></span><span style=display:flex><span>            prepareStatement <span style=color:#f92672>=</span> connection.<span style=color:#a6e22e>prepareStatement</span>(sql);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 将所有SQL语句发送到数据库，执行并返回int[]类型的结果</span>
</span></span><span style=display:flex><span>            result <span style=color:#f92672>=</span> sendSqlAndGetIntArray(prepareStatement, params);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 提交</span>
</span></span><span style=display:flex><span>            connection.<span style=color:#a6e22e>commit</span>();
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (SQLException e) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>                <span style=color:#75715e>// 回滚</span>
</span></span><span style=display:flex><span>                connection.<span style=color:#a6e22e>rollback</span>();
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>catch</span> (SQLException e1) {
</span></span><span style=display:flex><span>                e1.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>finally</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>                <span style=color:#75715e>// 将自动提交属性还原</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (connection <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span>) {
</span></span><span style=display:flex><span>                    connection.<span style=color:#a6e22e>setAutoCommit</span>(<span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>catch</span> (SQLException e) {
</span></span><span style=display:flex><span>                e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 顺序关闭媒介实例和连接实例，以节省资源</span>
</span></span><span style=display:flex><span>            closeStatement(prepareStatement);
</span></span><span style=display:flex><span>            dataSource.<span style=color:#a6e22e>closeConnection</span>(connection);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> result;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 执行批量不同SQL的DML语句
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param sqls SQL语句数组，需要调用方自行拼装参数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#a6e22e>batchUpdate</span>(String... sqls) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        Connection connection <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        Statement statement <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 获取Connection连接实例</span>
</span></span><span style=display:flex><span>            connection <span style=color:#f92672>=</span> dataSource.<span style=color:#a6e22e>getConnection</span>();
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 关闭连接实例 `connection` 的自动提交属性</span>
</span></span><span style=display:flex><span>            connection.<span style=color:#a6e22e>setAutoCommit</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 获取Statement媒介实例</span>
</span></span><span style=display:flex><span>            statement <span style=color:#f92672>=</span> connection.<span style=color:#a6e22e>createStatement</span>();
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 将所有SQL语句发送到数据库，执行并返回int[]类型的结果</span>
</span></span><span style=display:flex><span>            result <span style=color:#f92672>=</span> sendSqlAndGetIntArray(statement, sqls);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 提交</span>
</span></span><span style=display:flex><span>            connection.<span style=color:#a6e22e>commit</span>();
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (SQLException e) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>                <span style=color:#75715e>// 回滚</span>
</span></span><span style=display:flex><span>                connection.<span style=color:#a6e22e>rollback</span>();
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>catch</span> (SQLException e1) {
</span></span><span style=display:flex><span>                e1.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>finally</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (connection <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span>) {
</span></span><span style=display:flex><span>                    <span style=color:#75715e>// 恢复自动提交</span>
</span></span><span style=display:flex><span>                    connection.<span style=color:#a6e22e>setAutoCommit</span>(<span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>catch</span> (SQLException e) {
</span></span><span style=display:flex><span>                e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 顺序关闭媒介实例和连接实例，以节省资源</span>
</span></span><span style=display:flex><span>            closeStatement(statement);
</span></span><span style=display:flex><span>            dataSource.<span style=color:#a6e22e>closeConnection</span>(connection);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> result;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 查询多条数据
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param sql    SQL语句
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param params SQL参数数组
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 结果集
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>selectForList</span>(String sql, Object... params) {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;</span>();
</span></span><span style=display:flex><span>        Connection connection <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        PreparedStatement prepareStatement <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        ResultSet resultSet <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 获取Connection连接实例</span>
</span></span><span style=display:flex><span>            connection <span style=color:#f92672>=</span> dataSource.<span style=color:#a6e22e>getConnection</span>();
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 获取PrepareStatement媒介实例，该媒介类型支持动态绑定问号</span>
</span></span><span style=display:flex><span>            prepareStatement <span style=color:#f92672>=</span> connection.<span style=color:#a6e22e>prepareStatement</span>(sql);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 将SQL发送到数据库，执行，并带回ResultSet结果集</span>
</span></span><span style=display:flex><span>            resultSet <span style=color:#f92672>=</span> sendSqlAndGetResultSet(prepareStatement, params);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 将ResultSet结果集转化为 `List&lt;Map&gt;` 结构</span>
</span></span><span style=display:flex><span>            result <span style=color:#f92672>=</span> resultSetToList(resultSet);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (SQLException e) {
</span></span><span style=display:flex><span>            e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>finally</span> {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 顺序关闭结果集实例，媒介实例和连接实例，以节省资源</span>
</span></span><span style=display:flex><span>            closeResultSet(resultSet);
</span></span><span style=display:flex><span>            closeStatement(prepareStatement);
</span></span><span style=display:flex><span>            dataSource.<span style=color:#a6e22e>closeConnection</span>(connection);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> result;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 查询单条数据
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param sql    SQL语句
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param params SQL参数数组
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 结果集
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>selectForMap</span>(String sql, Object... params) {
</span></span><span style=display:flex><span>        Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashMap<span style=color:#f92672>&lt;&gt;</span>(10);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 直接调用JDBC中查询多条的方法，并进行空值保护</span>
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> list <span style=color:#f92672>=</span> selectForList(sql, params);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (list <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>list.<span style=color:#a6e22e>isEmpty</span>()) {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 取出List类型的结果集中唯一的一条记录，并返回</span>
</span></span><span style=display:flex><span>            result <span style=color:#f92672>=</span> list.<span style=color:#a6e22e>get</span>(0);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> result;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 查询记录数量
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param sql    SQL语句
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param params SQL参数数组
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 记录数量
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>selectForInt</span>(String sql, Object... params) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> result <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>1;
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 直接调用JDBC中查询单条的方法，得到Map型结果集</span>
</span></span><span style=display:flex><span>        Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> map <span style=color:#f92672>=</span> selectForMap(sql, params);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (String key : map.<span style=color:#a6e22e>keySet</span>()) {
</span></span><span style=display:flex><span>            Object value <span style=color:#f92672>=</span> map.<span style=color:#a6e22e>get</span>(key);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (value <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span>) {
</span></span><span style=display:flex><span>                <span style=color:#75715e>// 通过Map型结果集中唯一的key值获取对应的值，强转为int型并返回</span>
</span></span><span style=display:flex><span>                result <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>parseInt</span>(value.<span style=color:#a6e22e>toString</span>());
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> result;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 将DML类型的SQL发送到数据库并执行，并返回int结果
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param prepareStatement SQL媒介实例
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param params           SQL参数数组
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>sendSqlAndGetInt</span>(PreparedStatement prepareStatement, Object... params)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throws</span> SQLException {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 为SQL中的第i个问号赋值o，i从1开始</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0, j <span style=color:#f92672>=</span> params.<span style=color:#a6e22e>length</span>; i <span style=color:#f92672>&lt;</span> j; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            prepareStatement.<span style=color:#a6e22e>setObject</span>(i <span style=color:#f92672>+</span> 1, params<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 将SQL发送到数据库，执行，并带回int结果</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> prepareStatement.<span style=color:#a6e22e>executeUpdate</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 将DML类型的SQL发送到数据库并执行，并返回int[]结果
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param prepareStatement SQL媒介实例
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param params           SQL参数数组
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数数组
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#a6e22e>sendSqlAndGetIntArray</span>(PreparedStatement prepareStatement, Object<span style=color:#f92672>[]</span>... params)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throws</span> SQLException {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 为SQL中的第i个问号赋值o，i从1开始</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (Object<span style=color:#f92672>[]</span> param : params) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0, j <span style=color:#f92672>=</span> param.<span style=color:#a6e22e>length</span>; i <span style=color:#f92672>&lt;</span> j; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                prepareStatement.<span style=color:#a6e22e>setObject</span>(i <span style=color:#f92672>+</span> 1, param<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 将拼装完整的SQL语句加入到预执行区域，等待批处理</span>
</span></span><span style=display:flex><span>            prepareStatement.<span style=color:#a6e22e>addBatch</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 将预执行区域中的所有SQL语句发送到数据库，执行并返回int[]类型的结果</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> prepareStatement.<span style=color:#a6e22e>executeBatch</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 将DML类型的SQL发送到数据库并执行，并返回int[]结果
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param statement SQL媒介实例
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param sqls      SQL数组
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数数组
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#a6e22e>sendSqlAndGetIntArray</span>(Statement statement, String... sqls)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throws</span> SQLException {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (String sql : sqls) {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 遍历SQL语句并分别加入到预执行区域，等待批处理</span>
</span></span><span style=display:flex><span>            statement.<span style=color:#a6e22e>addBatch</span>(sql);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 将预执行区域中的所有SQL语句发送到数据库，执行并返回int[]类型的结果</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> statement.<span style=color:#a6e22e>executeBatch</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 将DML类型的SQL发送到数据库并执行，并返回ResultSet结果
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param prepareStatement SQL媒介实例
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param params           SQL参数数组
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数数组
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> ResultSet <span style=color:#a6e22e>sendSqlAndGetResultSet</span>(
</span></span><span style=display:flex><span>            PreparedStatement prepareStatement, Object... params) <span style=color:#66d9ef>throws</span> SQLException {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 为SQL中的第i个问号赋值o，i从1开始</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0, j <span style=color:#f92672>=</span> params.<span style=color:#a6e22e>length</span>; i <span style=color:#f92672>&lt;</span> j; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            prepareStatement.<span style=color:#a6e22e>setObject</span>(i <span style=color:#f92672>+</span> 1, params<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 将SQL发送到数据库，执行，并带回ResultSet结果集</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> prepareStatement.<span style=color:#a6e22e>executeQuery</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 将ResultSet结果集转化为List结果集
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param resultSet ResultSet结果集实例
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return List结果集，泛型为Map类型
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>resultSetToList</span>(ResultSet resultSet)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throws</span> SQLException {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> resultList <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;</span>();
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 获取元数据</span>
</span></span><span style=display:flex><span>        ResultSetMetaData metaData <span style=color:#f92672>=</span> resultSet.<span style=color:#a6e22e>getMetaData</span>();
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 获取结果集的总列数</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> columnCount <span style=color:#f92672>=</span> metaData.<span style=color:#a6e22e>getColumnCount</span>();
</span></span><span style=display:flex><span>        Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> tempMap;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 遍历每一行</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (resultSet.<span style=color:#a6e22e>next</span>()) {
</span></span><span style=display:flex><span>            tempMap <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashMap<span style=color:#f92672>&lt;&gt;</span>(columnCount);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 遍历每一列: 数据库的列从1开始</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 1; i <span style=color:#f92672>&lt;=</span> columnCount; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                <span style=color:#75715e>// 获取第i个列的列名，i从1开始</span>
</span></span><span style=display:flex><span>                String columnName <span style=color:#f92672>=</span> metaData.<span style=color:#a6e22e>getColumnName</span>(i);
</span></span><span style=display:flex><span>                <span style=color:#75715e>// 通过列名获取对应的值</span>
</span></span><span style=display:flex><span>                Object value <span style=color:#f92672>=</span> resultSet.<span style=color:#a6e22e>getObject</span>(columnName);
</span></span><span style=display:flex><span>                tempMap.<span style=color:#a6e22e>put</span>(columnName, value);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            resultList.<span style=color:#a6e22e>add</span>(tempMap);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> resultList;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 关闭一个Statement媒介
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param statement Statement媒介
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>closeStatement</span>(Statement statement) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (statement <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span>) {
</span></span><span style=display:flex><span>                statement.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (Exception e) {
</span></span><span style=display:flex><span>            e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 关闭一个ResultSet媒介
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param resultSet ResultSet媒介
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>closeResultSet</span>(ResultSet resultSet) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (resultSet <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span>) {
</span></span><span style=display:flex><span>                resultSet.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (SQLException e) {
</span></span><span style=display:flex><span>            e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=s04-jdbc实战项目>S04. JDBC实战项目</h1><h2 id=e01-开发paramdao>E01. 开发ParamDao</h2><blockquote><p>武技: 开发Param表的单表CRUD方法</p></blockquote><ol><li>开发数据接口 <code>ParamDao</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.dao;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>ParamDao</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Method主键查询该Method的全部Param记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param methodId Method主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 该Method的全部Param记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>select</span>(Integer methodId);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>实现数据接口 <code>ParamDaoImpl</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.dao.impl;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ParamDaoImpl</span> <span style=color:#66d9ef>implements</span> ParamDao {
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> JdbcTemplate jdbcTemplate <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> JdbcTemplate();
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**param表全查SQL语句*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> String LIST <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;select p.param_id, p.param_name, p.param_type, &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;p.param_info, p.required, p.default_value, p.create_time, p.modify_time, &#34;</span> <span style=color:#f92672>+</span> 
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;p.fk_method_id from lesson_document.param p &#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>select</span>(Integer methodId) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> jdbcTemplate.<span style=color:#a6e22e>selectForList</span>(LIST <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; where p.fk_method_id = ?&#34;</span>, methodId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>测试数据接口 <code>ParamDaoTest</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> dao;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ParamDaoTest</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> ParamDao paramDao <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ParamDaoImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>selectByMethodId</span>() {
</span></span><span style=display:flex><span>        paramDao.<span style=color:#a6e22e>select</span>(1).<span style=color:#a6e22e>forEach</span>(System.<span style=color:#a6e22e>out</span>::println);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e02-开发returndao>E02. 开发ReturnDao</h2><blockquote><p>武技: 开发Return表的单表CRUD方法</p></blockquote><ol><li>开发数据接口 <code>ReturnDao</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.dao;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>ReturnDao</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 添加Return记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnCode    返回值状态码
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnMessage 返回值状态描述
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnData    返回值数据
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param createTime    首次创建日期
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param modifyTime    最后修改日期
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param fkMethodId    方法表外键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>insert</span>(Integer returnCode, String returnMessage, String returnData,
</span></span><span style=display:flex><span>               <span style=color:#66d9ef>long</span> createTime, <span style=color:#66d9ef>long</span> modifyTime, Integer fkMethodId);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Return主键修改Return记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnCode    返回值状态码
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnMessage 返回值状态描述
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnData    返回值数据
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param createTime    首次创建日期
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param modifyTime    最后修改日期
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param fkMethodId    方法表外键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnId      返回值表主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>updateByReturnId</span>(Integer returnCode, String returnMessage, String returnData,
</span></span><span style=display:flex><span>                         <span style=color:#66d9ef>long</span> createTime, <span style=color:#66d9ef>long</span> modifyTime, Integer fkMethodId,
</span></span><span style=display:flex><span>                         Integer returnId);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Return主键删除Return记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnId 返回值表主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>delete</span>(Integer returnId);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Method主键查询该Method的Return记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param methodId Method主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 多条Return记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>select</span>(Integer methodId);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>实现数据接口 <code>ReturnDaoImpl</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.dao.impl;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ReturnDaoImpl</span> <span style=color:#66d9ef>implements</span> ReturnDao {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> JdbcTemplate jdbcTemplate <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> JdbcTemplate();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**return表全查SQL语句*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> String LIST <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;select r.return_id, r.return_code, r.return_message, &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;r.return_data, r.create_time, r.modify_time, r.fk_method_id &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;from lesson_document.return r&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>insert</span>(Integer returnCode, String returnMessage, String returnData,
</span></span><span style=display:flex><span>                      <span style=color:#66d9ef>long</span> createTime, <span style=color:#66d9ef>long</span> modifyTime, Integer fkMethodId) {
</span></span><span style=display:flex><span>        String sql <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;insert into lesson_document.return (&#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;return_code, return_message, return_data, &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;create_time, modify_time, fk_method_id) &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;values (?, ?, ?, ?, ?, ?)&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> jdbcTemplate.<span style=color:#a6e22e>update</span>(sql, returnCode, returnMessage, returnData,
</span></span><span style=display:flex><span>                createTime, modifyTime, fkMethodId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>updateByReturnId</span>(Integer returnCode, String returnMessage, String returnData,
</span></span><span style=display:flex><span>                                <span style=color:#66d9ef>long</span> createTime, <span style=color:#66d9ef>long</span> modifyTime, Integer fkMethodId,
</span></span><span style=display:flex><span>                                Integer returnId) {
</span></span><span style=display:flex><span>        String sql <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;update lesson_document.return set &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;return_code = ?, return_message = ?, return_data = ?, &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;create_time = ?, modify_time = ?, fk_method_id = ? &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;where return_id = ?&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> jdbcTemplate.<span style=color:#a6e22e>update</span>(sql, returnCode, returnMessage, returnData, createTime,
</span></span><span style=display:flex><span>                modifyTime, fkMethodId, returnId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>delete</span>(Integer returnId) {
</span></span><span style=display:flex><span>        String sql <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;delete from lesson_document.return where return_id = ?&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> jdbcTemplate.<span style=color:#a6e22e>update</span>(sql, returnId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>select</span>(Integer methodId) {
</span></span><span style=display:flex><span>        String sql <span style=color:#f92672>=</span> LIST <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; where r.fk_method_id = ?&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> jdbcTemplate.<span style=color:#a6e22e>selectForList</span>(sql, methodId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>测试数据接口 <code>ReturnDaoTest</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> dao;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ReturnDaoTest</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> ReturnDao returnDao <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ReturnDaoImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insert</span>() {
</span></span><span style=display:flex><span>        Integer returnCode <span style=color:#f92672>=</span> 1000;
</span></span><span style=display:flex><span>        String returnMessage <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试01&#34;</span>;
</span></span><span style=display:flex><span>        String returnData <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试02&#34;</span>;
</span></span><span style=display:flex><span>        Integer fkMethodId <span style=color:#f92672>=</span> 1;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> createTime <span style=color:#f92672>=</span> 999999999L;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> modifyTime <span style=color:#f92672>=</span> 999999999L;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(returnDao.<span style=color:#a6e22e>insert</span>(
</span></span><span style=display:flex><span>                returnCode, returnMessage, returnData, createTime, modifyTime, fkMethodId));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>selectByMethodId</span>() {
</span></span><span style=display:flex><span>        Integer methodId <span style=color:#f92672>=</span> 1;
</span></span><span style=display:flex><span>        returnDao.<span style=color:#a6e22e>select</span>(methodId).<span style=color:#a6e22e>forEach</span>(System.<span style=color:#a6e22e>out</span>::println);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>updateByReturnId</span>() {
</span></span><span style=display:flex><span>        Integer returnCode <span style=color:#f92672>=</span> 1001;
</span></span><span style=display:flex><span>        String returnMessage <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试001&#34;</span>;
</span></span><span style=display:flex><span>        String returnData <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试002&#34;</span>;
</span></span><span style=display:flex><span>        Integer fkMethodId <span style=color:#f92672>=</span> 2;
</span></span><span style=display:flex><span>        Integer returnId <span style=color:#f92672>=</span> 3;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> createTime <span style=color:#f92672>=</span> 999999998L;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> modifyTime <span style=color:#f92672>=</span> 999999998L;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(returnDao.<span style=color:#a6e22e>updateByReturnId</span>(returnCode, returnMessage,
</span></span><span style=display:flex><span>                returnData, createTime, modifyTime, fkMethodId, returnId));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>deleteByReturnId</span>() {
</span></span><span style=display:flex><span>        Integer returnId <span style=color:#f92672>=</span> 3;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(returnDao.<span style=color:#a6e22e>delete</span>(returnId));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e03-开发methoddao>E03. 开发MethodDao</h2><blockquote><p>武技: 开发Method表的单表CRUD方法</p></blockquote><ol><li>开发数据接口 <code>MethodDao</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.dao;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>MethodDao</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Module主键查询该Module下的全部Method记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleId Module主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 该Module下的全部Method记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>select</span>(Integer moduleId);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>实现数据接口 <code>MethodDaoImpl</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.dao.impl;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MethodDaoImpl</span> <span style=color:#66d9ef>implements</span> MethodDao {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> JdbcTemplate jdbcTemplate <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> JdbcTemplate();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** module表全查SQL语句 */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> String LIST <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;select me.method_id, me.method_title, &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;me.method_info, me.request_url, me.request_method, me.request_mime, &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;me.response_mime, me.create_time, me.modify_time, me.fk_module_id &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;from lesson_document.method me&#34;</span> ;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>select</span>(Integer moduleId) {
</span></span><span style=display:flex><span>        String sql <span style=color:#f92672>=</span> LIST <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; where fk_module_id = ?&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> jdbcTemplate.<span style=color:#a6e22e>selectForList</span>(sql, moduleId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>测试数据接口 <code>MethodDaoTest</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> dao;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MethodDaoTest</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> MethodDao methodDao <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MethodDaoImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>selectByModuleId</span>() {
</span></span><span style=display:flex><span>        Integer moduleId <span style=color:#f92672>=</span> 1;
</span></span><span style=display:flex><span>        methodDao.<span style=color:#a6e22e>select</span>(moduleId).<span style=color:#a6e22e>forEach</span>(System.<span style=color:#a6e22e>out</span>::println);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e04-开发moduledao>E04. 开发ModuleDao</h2><blockquote><p>武技: 开发Module表的单表CRUD方法</p></blockquote><ol><li>开发数据接口 <code>ModuleDao</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.dao;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>ModuleDao</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 添加Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleName 模块名称
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleInfo 模块描述
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param createTime 首次创建日期
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param modifyTime 最后修改日期
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>insert</span>(String moduleName, String moduleInfo, <span style=color:#66d9ef>long</span> createTime, <span style=color:#66d9ef>long</span> modifyTime);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Module主键查询Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleId Module主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 一条Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>select</span>(Integer moduleId);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 全查Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 全部Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>list</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Module主键修改Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleName 模块名称
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleInfo 模块描述
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param createTime 首次创建日期
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param modifyTime 最后修改日期
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleId   模块表主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>updateByModuleId</span>(String moduleName, String moduleInfo, <span style=color:#66d9ef>long</span> createTime, <span style=color:#66d9ef>long</span> modifyTime,
</span></span><span style=display:flex><span>                         Integer moduleId);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Module主键删除Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleId 模块表主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>delete</span>(Integer moduleId);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>实现数据接口 <code>ModuleDaoImpl</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.dao.impl;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ModuleDaoImpl</span> <span style=color:#66d9ef>implements</span> ModuleDao {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> JdbcTemplate jdbcTemplate <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> JdbcTemplate();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**module表全查SQL语句*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> String LIST <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;select mo.module_id, mo.module_name, mo.module_info, &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;mo.create_time, mo.modify_time from lesson_document.module mo&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>insert</span>(String moduleName, String moduleInfo, <span style=color:#66d9ef>long</span> createTime, <span style=color:#66d9ef>long</span> modifyTime) {
</span></span><span style=display:flex><span>        String sql <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;insert into lesson_document.module (&#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;module_name, module_info, create_time, modify_time) values (?, ?, ?, ?)&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> jdbcTemplate.<span style=color:#a6e22e>update</span>(sql, moduleName, moduleInfo, createTime, modifyTime);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>select</span>(Integer moduleId) {
</span></span><span style=display:flex><span>        String sql <span style=color:#f92672>=</span> LIST <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; where mo.module_id = ?&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> jdbcTemplate.<span style=color:#a6e22e>selectForMap</span>(sql, moduleId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>list</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> jdbcTemplate.<span style=color:#a6e22e>selectForList</span>(LIST);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>updateByModuleId</span>(String moduleName, String moduleInfo, <span style=color:#66d9ef>long</span> createTime, 
</span></span><span style=display:flex><span>                                <span style=color:#66d9ef>long</span> modifyTime, Integer moduleId) {
</span></span><span style=display:flex><span>        String sql <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;update lesson_document.module set &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;module_name = ?, module_info = ?, create_time = ?, modify_time = ? &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;where module_id = ?&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> jdbcTemplate.<span style=color:#a6e22e>update</span>(sql, moduleName, moduleInfo, createTime, modifyTime,
</span></span><span style=display:flex><span>                moduleId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>delete</span>(Integer moduleId) {
</span></span><span style=display:flex><span>        String sql <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;delete from lesson_document.module where module_id = ?&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> jdbcTemplate.<span style=color:#a6e22e>update</span>(sql, moduleId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>测试数据接口 <code>ModuleDaoTest</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> dao;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ModuleDaoTest</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> ModuleDao moduleDao <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ModuleDaoImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insert</span>() {
</span></span><span style=display:flex><span>        String moduleName <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试模块名&#34;</span>;
</span></span><span style=display:flex><span>        String moduleInfo <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试模块描述&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> createTime <span style=color:#f92672>=</span> 9999999L;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> modifyTime <span style=color:#f92672>=</span> 9999999L;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(moduleDao.<span style=color:#a6e22e>insert</span>(moduleName, moduleInfo, createTime, modifyTime));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>selectByModuleId</span>() {
</span></span><span style=display:flex><span>        Integer moduleId <span style=color:#f92672>=</span> 6;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(moduleDao.<span style=color:#a6e22e>select</span>(moduleId));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>list</span>() {
</span></span><span style=display:flex><span>        moduleDao.<span style=color:#a6e22e>list</span>().<span style=color:#a6e22e>forEach</span>(System.<span style=color:#a6e22e>out</span>::println);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>updateByModuleId</span>() {
</span></span><span style=display:flex><span>        String moduleName <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试模块名-1&#34;</span>;
</span></span><span style=display:flex><span>        String moduleInfo <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试模块描述-1&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> createTime <span style=color:#f92672>=</span> 9999998L;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> modifyTime <span style=color:#f92672>=</span> 9999998L;
</span></span><span style=display:flex><span>        Integer moduleId <span style=color:#f92672>=</span> 6;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(moduleDao.<span style=color:#a6e22e>updateByModuleId</span>(
</span></span><span style=display:flex><span>                moduleName, moduleInfo, createTime, modifyTime, moduleId));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>deleteByModuleId</span>() {
</span></span><span style=display:flex><span>        Integer moduleId <span style=color:#f92672>=</span> 6;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(moduleDao.<span style=color:#a6e22e>delete</span>(moduleId));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e05-开发methodservice>E05. 开发MethodService</h2><blockquote><p>武技: 开发Method表的业务层</p></blockquote><ol><li>开发业务接口 <code>MethodService</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.service;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>MethodService</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Module主键查询该Module下的全部Method记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleId 模块表主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 该Module下的全部Method记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>select</span>(Integer moduleId);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>实现业务接口 <code>MethodServiceImpl</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.service.impl;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MethodServiceImpl</span> <span style=color:#66d9ef>implements</span> MethodService {
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> MethodDao methodDao <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MethodDaoImpl();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> ParamDao paramDao <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ParamDaoImpl();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> ReturnDao returnDao <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ReturnDaoImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>select</span>(Integer moduleId) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> moduleId) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> RuntimeException(<span style=color:#e6db74>&#34;必要参数为null&#34;</span>);
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> methods <span style=color:#f92672>=</span> methodDao.<span style=color:#a6e22e>select</span>(moduleId);
</span></span><span style=display:flex><span>        methods.<span style=color:#a6e22e>forEach</span>(method <span style=color:#f92672>-&gt;</span> {
</span></span><span style=display:flex><span>            Integer methodId <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>valueOf</span>(method.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#34;method_id&#34;</span>).<span style=color:#a6e22e>toString</span>());
</span></span><span style=display:flex><span>            method.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;params&#34;</span>, paramDao.<span style=color:#a6e22e>select</span>(methodId));
</span></span><span style=display:flex><span>            method.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;returns&#34;</span>, returnDao.<span style=color:#a6e22e>select</span>(methodId));
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> methods;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>测试业务接口 <code>MethodServiceTest</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> service;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MethodServiceTest</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> MethodService methodService <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MethodServiceImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@SuppressWarnings</span>(<span style=color:#e6db74>&#34;all&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>selectByModuleId</span>() {
</span></span><span style=display:flex><span>      methodService.<span style=color:#a6e22e>select</span>(1).<span style=color:#a6e22e>forEach</span>(method <span style=color:#f92672>-&gt;</span> {
</span></span><span style=display:flex><span>          System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;method: &#34;</span> <span style=color:#f92672>+</span> method);
</span></span><span style=display:flex><span>          List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> params <span style=color:#f92672>=</span> (List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span>) method.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#34;params&#34;</span>);
</span></span><span style=display:flex><span>          params.<span style=color:#a6e22e>forEach</span>(e <span style=color:#f92672>-&gt;</span> System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;\tparam: &#34;</span> <span style=color:#f92672>+</span> e));
</span></span><span style=display:flex><span>          List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> returns <span style=color:#f92672>=</span> (List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span>) method.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#34;returns&#34;</span>);
</span></span><span style=display:flex><span>          returns.<span style=color:#a6e22e>forEach</span>(e <span style=color:#f92672>-&gt;</span> System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;\treturn: &#34;</span> <span style=color:#f92672>+</span> e));
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e06-开发moduleservice>E06. 开发ModuleService</h2><blockquote><p>武技: 开发Module表的业务层</p></blockquote><ol><li>开发业务接口 <code>ModuleService</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.service;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>ModuleService</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 添加Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleName 模块名称
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleInfo 模块描述
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>insert</span>(String moduleName, String moduleInfo);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Module主键查询Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleId Module主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 一条Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>select</span>(Integer moduleId);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 全查Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 全部Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>list</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Module主键修改Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleName 模块名称
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleInfo 模块描述
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param createTime 首次创建日期
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param modifyTime 最后修改日期
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleId   模块表主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>updateByModuleId</span>(String moduleName, String moduleInfo, <span style=color:#66d9ef>long</span> createTime, <span style=color:#66d9ef>long</span> modifyTime,
</span></span><span style=display:flex><span>                         Integer moduleId);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Module主键删除Module记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param moduleId 模块表主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>delete</span>(Integer moduleId);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>实现业务接口 <code>ModuleServiceImpl</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.service.impl;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ModuleServiceImpl</span> <span style=color:#66d9ef>implements</span> ModuleService {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> ModuleDao moduleDao <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ModuleDaoImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>insert</span>(String moduleName, String moduleInfo) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> moduleName <span style=color:#f92672>||</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> moduleInfo) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> RuntimeException(<span style=color:#e6db74>&#34;必要参数为null&#34;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> createTime <span style=color:#f92672>=</span> 999999L;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> modifyTime <span style=color:#f92672>=</span> 999999L;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> moduleDao.<span style=color:#a6e22e>insert</span>(moduleName, moduleInfo, createTime, modifyTime);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>select</span>(Integer moduleId) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> moduleId) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> RuntimeException(<span style=color:#e6db74>&#34;必要参数为null&#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> moduleDao.<span style=color:#a6e22e>select</span>(moduleId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> <span style=color:#a6e22e>list</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> moduleDao.<span style=color:#a6e22e>list</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>updateByModuleId</span>(String moduleName, String moduleInfo,
</span></span><span style=display:flex><span>                                <span style=color:#66d9ef>long</span> createTime, <span style=color:#66d9ef>long</span> modifyTime, Integer moduleId) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> moduleName <span style=color:#f92672>||</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> moduleInfo <span style=color:#f92672>||</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> moduleId) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> RuntimeException(<span style=color:#e6db74>&#34;必要参数为null&#34;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> moduleDao.<span style=color:#a6e22e>updateByModuleId</span>(moduleName, moduleInfo, createTime, modifyTime, 
</span></span><span style=display:flex><span>                                          moduleId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>delete</span>(Integer moduleId) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> moduleId) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> RuntimeException(<span style=color:#e6db74>&#34;必要参数为null&#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> moduleDao.<span style=color:#a6e22e>delete</span>(moduleId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>测试业务接口 <code>ModuleServiceTest</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> service;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ModuleServiceTest</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> ModuleService moduleService <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ModuleServiceImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insert</span>() {
</span></span><span style=display:flex><span>        String moduleName <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试模块名&#34;</span>;
</span></span><span style=display:flex><span>        String moduleInfo <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试模块描述&#34;</span>;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(moduleService.<span style=color:#a6e22e>insert</span>(moduleName, moduleInfo));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>selectByModuleId</span>() {
</span></span><span style=display:flex><span>        Integer moduleId <span style=color:#f92672>=</span> 7;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(moduleService.<span style=color:#a6e22e>select</span>(moduleId));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>list</span>() {
</span></span><span style=display:flex><span>        moduleService.<span style=color:#a6e22e>list</span>().<span style=color:#a6e22e>forEach</span>(System.<span style=color:#a6e22e>out</span>::println);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>updateByModuleId</span>() {
</span></span><span style=display:flex><span>        String moduleName <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试模块名-1&#34;</span>;
</span></span><span style=display:flex><span>        String moduleInfo <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试模块描述-1&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> createTime <span style=color:#f92672>=</span> 999999998L;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> modifyTime <span style=color:#f92672>=</span> 999999998L;
</span></span><span style=display:flex><span>        Integer moduleId <span style=color:#f92672>=</span> 7;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(moduleService.<span style=color:#a6e22e>updateByModuleId</span>(
</span></span><span style=display:flex><span>                moduleName, moduleInfo, createTime, modifyTime, moduleId));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>deleteByModuleId</span>() {
</span></span><span style=display:flex><span>        Integer moduleId <span style=color:#f92672>=</span> 7;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(moduleService.<span style=color:#a6e22e>delete</span>(moduleId));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e07-开发returnservice>E07. 开发ReturnService</h2><blockquote><p>武技: 开发Return表的业务层</p></blockquote><ol><li>开发业务接口 <code>ReturnService</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.service;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>ReturnService</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 添加Return记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnCode    返回值状态码
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnMessage 返回值状态描述
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnData    返回值数据
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param fkMethodId    Method表外键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>insert</span>(Integer returnCode, String returnMessage,
</span></span><span style=display:flex><span>               String returnData, Integer fkMethodId);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Return主键修改Return记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnCode    返回值状态码
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnMessage 返回值状态描述
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnData    返回值数据
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param createTime    首次创建日期
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param modifyTime    最后修改日期
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param fkMethodId    Method表外键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnId      Return主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>updateByReturnId</span>(Integer returnCode, String returnMessage, String returnData,
</span></span><span style=display:flex><span>                         <span style=color:#66d9ef>long</span> createTime, <span style=color:#66d9ef>long</span> modifyTime,
</span></span><span style=display:flex><span>                         Integer fkMethodId, Integer returnId);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * 按Return主键删除Return记录
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param returnId Return主键
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return 影响条目数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>delete</span>(Integer returnId);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>实现业务接口 <code>ReturnServiceImpl</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.service.impl;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ReturnServiceImpl</span> <span style=color:#66d9ef>implements</span> ReturnService {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> ReturnDao returnDao <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ReturnDaoImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>insert</span>(Integer returnCode, String returnMessage, String returnData,
</span></span><span style=display:flex><span>                      Integer fkMethodId) {
</span></span><span style=display:flex><span>        returnData <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> returnData <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;&#34;</span> : returnData;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> returnMessage <span style=color:#f92672>||</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> returnCode <span style=color:#f92672>||</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> fkMethodId) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> RuntimeException(<span style=color:#e6db74>&#34;必要参数为null&#34;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> createTime <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date().<span style=color:#a6e22e>getTime</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> modifyTime <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date().<span style=color:#a6e22e>getTime</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> returnDao.<span style=color:#a6e22e>insert</span>(
</span></span><span style=display:flex><span>                returnCode, returnMessage, returnData, createTime, modifyTime, fkMethodId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>updateByReturnId</span>(Integer returnCode, String returnMessage, String returnData,
</span></span><span style=display:flex><span>                                <span style=color:#66d9ef>long</span> createTime, <span style=color:#66d9ef>long</span> modifyTime, Integer fkMethodId,
</span></span><span style=display:flex><span>                                Integer returnId) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> returnId) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> RuntimeException(<span style=color:#e6db74>&#34;必要参数为null&#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> returnDao.<span style=color:#a6e22e>updateByReturnId</span>(returnCode, returnMessage, returnData,
</span></span><span style=display:flex><span>                createTime, modifyTime, fkMethodId, returnId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>delete</span>(Integer returnId) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> returnId) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> RuntimeException(<span style=color:#e6db74>&#34;必要参数为null&#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> returnDao.<span style=color:#a6e22e>delete</span>(returnId);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>测试业务接口 <code>ReturnServiceTest</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> service;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ReturnServiceTest</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> ReturnService returnService <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ReturnServiceImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insert</span>() {
</span></span><span style=display:flex><span>        Integer returnCode <span style=color:#f92672>=</span> 1000;
</span></span><span style=display:flex><span>        String returnMessage <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试返回信息&#34;</span>;
</span></span><span style=display:flex><span>        String returnData <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试返回数据&#34;</span>;
</span></span><span style=display:flex><span>        Integer fkMethodId <span style=color:#f92672>=</span> 1;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(returnService.<span style=color:#a6e22e>insert</span>(returnCode, returnMessage, returnData,
</span></span><span style=display:flex><span>                fkMethodId));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>updateByReturnId</span>() {
</span></span><span style=display:flex><span>        Integer returnCode <span style=color:#f92672>=</span> 1001;
</span></span><span style=display:flex><span>        String returnMessage <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试返回信息-1&#34;</span>;
</span></span><span style=display:flex><span>        String returnData <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;测试返回数据-2&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> createTime <span style=color:#f92672>=</span> 999999998L;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> modifyTime <span style=color:#f92672>=</span> 999999998L;
</span></span><span style=display:flex><span>        Integer fkMethodId <span style=color:#f92672>=</span> 2;
</span></span><span style=display:flex><span>        Integer returnId <span style=color:#f92672>=</span> 4;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(returnService.<span style=color:#a6e22e>updateByReturnId</span>(returnCode, returnMessage,
</span></span><span style=display:flex><span>                returnData, createTime, modifyTime, fkMethodId, returnId));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>deleteByReturnId</span>() {
</span></span><span style=display:flex><span>        Integer returnId <span style=color:#f92672>=</span> 4;
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(returnService.<span style=color:#a6e22e>delete</span>(returnId));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=s04-servlet实战准备>S04. Servlet实战准备</h1><blockquote><p>心法: Servlet实战项目使用 <code>lesson-document</code>，数据库也使用 <code>lesson_document</code>。</p></blockquote><h2 id=e01-添加项目依赖>E01. 添加项目依赖</h2><blockquote><p>武技: 在 <code>lesson-document</code> 子项目中添加Servlet相关依赖</p></blockquote><ol><li>在父项目中锁定版本:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;servlet-version&gt;</span>3.1.0<span style=color:#f92672>&lt;/servlet-version&gt;</span>
</span></span></code></pre></div><ol start=2><li>在父项目中管理依赖:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!--javax.servlet-api--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>javax.servlet<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>javax.servlet-api<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;version&gt;</span>${servlet-version}<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;scope&gt;</span>provided<span style=color:#f92672>&lt;/scope&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div><ol start=3><li>在子项目中引入依赖:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!--javax.servlet-api--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>javax.servlet<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>javax.servlet-api<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div><h2 id=e02-开发编码过滤器>E02. 开发编码过滤器</h2><blockquote><p>武技: 在 <code>lesson-document</code> 项目中开发全局编码过滤器</p></blockquote><ol><li>开发全局编码过滤器 <code>GlobalEncodingFilter</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.filter;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@WebFilter</span>({<span style=color:#e6db74>&#34;/api/v1/**&#34;</span>, <span style=color:#e6db74>&#34;/api/v1/*&#34;</span>})
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>GlobalEncodingFilter</span> <span style=color:#66d9ef>implements</span> Filter {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>init</span>(FilterConfig filterConfig) <span style=color:#66d9ef>throws</span> ServletException {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>doFilter</span>(ServletRequest request, ServletResponse response, FilterChain chain) 
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>throws</span> IOException, ServletException {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 将参数转回HttpServletRequest/HttpServletResponse类型</span>
</span></span><span style=display:flex><span>        HttpServletRequest req <span style=color:#f92672>=</span> (HttpServletRequest) request;
</span></span><span style=display:flex><span>        HttpServletResponse resp <span style=color:#f92672>=</span> (HttpServletResponse) response;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 设置请求和响应的编码</span>
</span></span><span style=display:flex><span>        req.<span style=color:#a6e22e>setCharacterEncoding</span>(<span style=color:#e6db74>&#34;utf-8&#34;</span>);
</span></span><span style=display:flex><span>        resp.<span style=color:#a6e22e>setContentType</span>(<span style=color:#e6db74>&#34;application/json;charset=utf-8&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 放行</span>
</span></span><span style=display:flex><span>        chain.<span style=color:#a6e22e>doFilter</span>(req, resp);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>destroy</span>() {}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=s05-servlet实战项目>S05. Servlet实战项目</h1><h2 id=e01-开发loginservlet>E01. 开发LoginServlet</h2><blockquote><p>武技: 开发LoginServlet辅助类</p></blockquote><ol><li>开发辅助类 <code>LoginServlet</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.servlet;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>LoginServlet</span> <span style=color:#66d9ef>extends</span> HttpServlet {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>doGet</span>(HttpServletRequest req, HttpServletResponse resp) <span style=color:#66d9ef>throws</span> IOException {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 获取响应流</span>
</span></span><span style=display:flex><span>        PrintWriter writer <span style=color:#f92672>=</span> resp.<span style=color:#a6e22e>getWriter</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 准备一个Map用于返回数据</span>
</span></span><span style=display:flex><span>        Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> resultMap <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashMap<span style=color:#f92672>&lt;&gt;</span>(3);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 获取Servlet初始化参数: 项目内置的登录账号和密码</span>
</span></span><span style=display:flex><span>        String builtInUsername <span style=color:#f92672>=</span> <span style=color:#66d9ef>super</span>.<span style=color:#a6e22e>getServletConfig</span>().<span style=color:#a6e22e>getInitParameter</span>(<span style=color:#e6db74>&#34;built-in-username&#34;</span>);
</span></span><span style=display:flex><span>        String builtInPassword <span style=color:#f92672>=</span> <span style=color:#66d9ef>super</span>.<span style=color:#a6e22e>getServletConfig</span>().<span style=color:#a6e22e>getInitParameter</span>(<span style=color:#e6db74>&#34;built-in-password&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 接收请求参数</span>
</span></span><span style=display:flex><span>        String username <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;username&#34;</span>);
</span></span><span style=display:flex><span>        String password <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;password&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 判断账号密码是否正确</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (builtInUsername.<span style=color:#a6e22e>equals</span>(username) <span style=color:#f92672>&amp;&amp;</span> builtInPassword.<span style=color:#a6e22e>equals</span>(password)) {
</span></span><span style=display:flex><span>            resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1000);
</span></span><span style=display:flex><span>            resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;登录成功&#34;</span>);
</span></span><span style=display:flex><span>            resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;data&#34;</span>, username);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1001);
</span></span><span style=display:flex><span>            resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;登录失败&#34;</span>);
</span></span><span style=display:flex><span>            resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;data&#34;</span>, <span style=color:#e6db74>&#34;账号密码有误&#34;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 回写数据</span>
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>print</span>(JSONUtil.<span style=color:#a6e22e>parse</span>(resultMap));
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>flush</span>();
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>doPost</span>(HttpServletRequest req, HttpServletResponse resp) <span style=color:#66d9ef>throws</span> IOException {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 和 doGet() 方法的逻辑保持统一</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>doGet</span>(req, resp);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>在 <code>web.xml</code> 中配置辅助类 <code>LoginServlet</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!--配置LoginServlet--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;servlet&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--配置Servlet配对名，用于寻找servlet-mapping--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;servlet-name&gt;</span>loginServlet<span style=color:#f92672>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--配置Servlet类全名--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;servlet-class&gt;</span>com.lsx.servlet.LoginServlet<span style=color:#f92672>&lt;/servlet-class&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--Servlet独享的初始化参数（选配）--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;init-param&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;param-name&gt;</span>built-in-username<span style=color:#f92672>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;param-value&gt;</span>admin<span style=color:#f92672>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/init-param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--Servlet独享的初始化参数（选配）--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;init-param&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;param-name&gt;</span>built-in-password<span style=color:#f92672>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;param-value&gt;</span>admin<span style=color:#f92672>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/init-param&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/servlet&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;servlet-mapping&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--配置Servlet配对名，用于寻找Servlet--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;servlet-name&gt;</span>loginServlet<span style=color:#f92672>&lt;/servlet-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--配置Servlet路由，须以 `/` 开头--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;url-pattern&gt;</span>/api/v1/login<span style=color:#f92672>&lt;/url-pattern&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></div><ol start=3><li>访问辅助类 <code>LoginServlet</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#75715e>### 测试LoginServlet</span>
</span></span><span style=display:flex><span>POST http<span style=color:#960050;background-color:#1e0010>:</span>//localhost<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#ae81ff>8080</span>/lesson-document/api/v1/login
</span></span><span style=display:flex><span>Content-Type<span style=color:#960050;background-color:#1e0010>:</span> application/x-www-form-urlencoded
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>username=admin&amp;password=admin
</span></span></code></pre></div><h2 id=e02-开发projectinfoservlet>E02. 开发ProjectInfoServlet</h2><blockquote><p>武技: 开发项目信息辅助类</p></blockquote><ol><li>在配置文件 <code>web.xml</code> 中添加Servlet全局参数设置:<ul><li><code>&lt;context-param></code> 标签需要放在 <code>&lt;servlet></code> 标签之上。</li></ul></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!--配置Servlet全局参数--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;context-param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param-name&gt;</span>title<span style=color:#f92672>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param-value&gt;</span>李氏云课堂 - 项目文档<span style=color:#f92672>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/context-param&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;context-param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param-name&gt;</span>subTitle<span style=color:#f92672>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param-value&gt;</span>lesson-document<span style=color:#f92672>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/context-param&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;context-param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param-name&gt;</span>content<span style=color:#f92672>&lt;/param-name&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param-value&gt;</span>
</span></span><span style=display:flex><span>      本网站是【李氏云课堂】的文档说明子项目，参考Swagger + Knife4j页面与功能进行学习和开发，
</span></span><span style=display:flex><span>      主要用于对【李氏云课堂】的控制层接口和代码进行文档描述和说明，
</span></span><span style=display:flex><span>      相当于【李氏云课堂】的接口说明书。
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/param-value&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/context-param&gt;</span>
</span></span></code></pre></div><ol start=2><li>开发辅助类 <code>InfoServlet</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.servlet;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@WebServlet</span>(<span style=color:#e6db74>&#34;/api/v1/info&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>InfoServlet</span> <span style=color:#66d9ef>extends</span> HttpServlet {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>doGet</span>(HttpServletRequest req, HttpServletResponse resp) <span style=color:#66d9ef>throws</span> IOException {
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 获取全局参数</span>
</span></span><span style=display:flex><span>        Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> dataMap <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashMap<span style=color:#f92672>&lt;&gt;</span>(3);
</span></span><span style=display:flex><span>        dataMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;title&#34;</span>, getServletContext().<span style=color:#a6e22e>getInitParameter</span>(<span style=color:#e6db74>&#34;title&#34;</span>));
</span></span><span style=display:flex><span>        dataMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;subTitle&#34;</span>, getServletContext().<span style=color:#a6e22e>getInitParameter</span>(<span style=color:#e6db74>&#34;subTitle&#34;</span>));
</span></span><span style=display:flex><span>        dataMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;content&#34;</span>, getServletContext().<span style=color:#a6e22e>getInitParameter</span>(<span style=color:#e6db74>&#34;content&#34;</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 构建返回值</span>
</span></span><span style=display:flex><span>        Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> resultMap <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashMap<span style=color:#f92672>&lt;&gt;</span>(3);
</span></span><span style=display:flex><span>        resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1000);
</span></span><span style=display:flex><span>        resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;查询成功&#34;</span>);
</span></span><span style=display:flex><span>        resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;data&#34;</span>, JSONUtil.<span style=color:#a6e22e>parse</span>(dataMap));
</span></span><span style=display:flex><span>        PrintWriter writer <span style=color:#f92672>=</span> resp.<span style=color:#a6e22e>getWriter</span>();
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 响应</span>
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>print</span>(JSONUtil.<span style=color:#a6e22e>parse</span>(resultMap));
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>flush</span>();
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>doPost</span>(HttpServletRequest req, HttpServletResponse resp) <span style=color:#66d9ef>throws</span> IOException {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 和 doGet() 方法的逻辑保持统一</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>doGet</span>(req, resp);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>访问辅助类 <code>InfoServlet</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#75715e>## 查看项目信息</span>
</span></span><span style=display:flex><span>GET http<span style=color:#960050;background-color:#1e0010>:</span>//localhost<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#ae81ff>8080</span>/lesson-document/api/v1/info
</span></span><span style=display:flex><span>Accept<span style=color:#960050;background-color:#1e0010>:</span> application/json
</span></span></code></pre></div><h2 id=e03-开发methodservlet>E03. 开发MethodServlet</h2><blockquote><p>武技: 开发方法表相关辅助类</p></blockquote><ol><li>开发控制类 <code>MethodServlet</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.servlet;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@WebServlet</span>(<span style=color:#e6db74>&#34;/api/v1/method&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MethodServlet</span> <span style=color:#66d9ef>extends</span> HttpServlet {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> MethodService methodService <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MethodServiceImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>doGet</span>(HttpServletRequest req, HttpServletResponse resp) <span style=color:#66d9ef>throws</span> IOException {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 最终返回的数据</span>
</span></span><span style=display:flex><span>        Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> resultMap <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashMap<span style=color:#f92672>&lt;&gt;</span>(3);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 获取响应流</span>
</span></span><span style=display:flex><span>        PrintWriter writer <span style=color:#f92672>=</span> resp.<span style=color:#a6e22e>getWriter</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 接收meta参数</span>
</span></span><span style=display:flex><span>        String meta <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;meta&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 按模块表主键查询该模块下的全部方法</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#34;selectByModuleId&#34;</span>.<span style=color:#a6e22e>equals</span>(meta)) {
</span></span><span style=display:flex><span>            Integer moduleId <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>valueOf</span>(req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;moduleId&#34;</span>));
</span></span><span style=display:flex><span>            List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> methods <span style=color:#f92672>=</span> methodService.<span style=color:#a6e22e>select</span>(moduleId);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (ObjectUtil.<span style=color:#a6e22e>isNotEmpty</span>(methods)) {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1000);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;查询成功&#34;</span>);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;data&#34;</span>, methods);
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1001);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;查询失败&#34;</span>);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;data&#34;</span>, <span style=color:#e6db74>&#34;该模块下不存在任何方法&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 其他meta参数均视为参数传递有误</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;meta参数有误&#34;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 回写数据</span>
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>print</span>(JSONUtil.<span style=color:#a6e22e>parse</span>(resultMap));
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>flush</span>();
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>doPost</span>(HttpServletRequest req, HttpServletResponse resp) <span style=color:#66d9ef>throws</span> IOException {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>doGet</span>(req, resp);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>访问控制类 <code>MethodServlet</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#75715e>## 按Module主键查询该Module下的全部Method记录（包含Return和Param记录）</span>
</span></span><span style=display:flex><span>GET http<span style=color:#960050;background-color:#1e0010>:</span>//localhost<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#ae81ff>8080</span>/lesson-document/api/v1/method<span style=color:#66d9ef>?</span>meta=selectByModuleId&amp;moduleId=<span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Accept<span style=color:#960050;background-color:#1e0010>:</span> application/json
</span></span></code></pre></div><h2 id=e04-开发moduleservlet>E04. 开发ModuleServlet</h2><blockquote><p>武技: 开发模块表相关辅助类</p></blockquote><ol><li>开发控制类 <code>ModuleServlet</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.servlet;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@WebServlet</span>(<span style=color:#e6db74>&#34;/api/v1/module&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ModuleServlet</span> <span style=color:#66d9ef>extends</span> HttpServlet {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> ModuleService moduleService <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ModuleServiceImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@SneakyThrows</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>doGet</span>(HttpServletRequest req, HttpServletResponse resp){
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 最终返回的数据</span>
</span></span><span style=display:flex><span>        Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> resultMap <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashMap<span style=color:#f92672>&lt;&gt;</span>(3);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 获取响应流</span>
</span></span><span style=display:flex><span>        PrintWriter writer <span style=color:#f92672>=</span> resp.<span style=color:#a6e22e>getWriter</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 接收meta参数</span>
</span></span><span style=display:flex><span>        String meta <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;meta&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 插入一条模块记录</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#34;insert&#34;</span>.<span style=color:#a6e22e>equals</span>(meta)) {
</span></span><span style=display:flex><span>            String moduleName <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;moduleName&#34;</span>);
</span></span><span style=display:flex><span>            String moduleInfo <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;moduleInfo&#34;</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (moduleService.<span style=color:#a6e22e>insert</span>(moduleName, moduleInfo) <span style=color:#f92672>&gt;</span> 0) {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1000);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;插入成功&#34;</span>);
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1001);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;插入失败&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 按模块主键查询一条模块记录</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#34;selectByModuleId&#34;</span>.<span style=color:#a6e22e>equals</span>(meta)) {
</span></span><span style=display:flex><span>            Integer moduleId <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>valueOf</span>(req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;moduleId&#34;</span>));
</span></span><span style=display:flex><span>            Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> module <span style=color:#f92672>=</span> moduleService.<span style=color:#a6e22e>select</span>(moduleId);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (ObjectUtil.<span style=color:#a6e22e>isNotEmpty</span>(module)) {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1000);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;查询成功&#34;</span>);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;data&#34;</span>, module);
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1001);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;查询失败&#34;</span>);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;data&#34;</span>, <span style=color:#e6db74>&#34;数据库中暂无模块记录&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 查询全部模块记录</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#34;list&#34;</span>.<span style=color:#a6e22e>equals</span>(meta)) {
</span></span><span style=display:flex><span>            List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;&gt;</span> modules <span style=color:#f92672>=</span> moduleService.<span style=color:#a6e22e>list</span>();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>null</span> <span style=color:#f92672>!=</span> modules <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>modules.<span style=color:#a6e22e>isEmpty</span>()) {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1000);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;查询成功&#34;</span>);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;data&#34;</span>, modules);
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 500);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;查询失败&#34;</span>);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;data&#34;</span>, <span style=color:#e6db74>&#34;数据库中暂无模块记录&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 按主键修改一条模块记录</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#34;updateByModuleId&#34;</span>.<span style=color:#a6e22e>equals</span>(meta)) {
</span></span><span style=display:flex><span>            String moduleName <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;moduleName&#34;</span>);
</span></span><span style=display:flex><span>            String moduleInfo <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;moduleInfo&#34;</span>);
</span></span><span style=display:flex><span>            Integer moduleId <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>valueOf</span>(req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;moduleId&#34;</span>));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>long</span> createTime <span style=color:#f92672>=</span> Long.<span style=color:#a6e22e>parseLong</span>((req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;createTime&#34;</span>)));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>long</span> modifyTime <span style=color:#f92672>=</span> Long.<span style=color:#a6e22e>parseLong</span>((req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;modifyTime&#34;</span>)));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (moduleService.<span style=color:#a6e22e>updateByModuleId</span>(
</span></span><span style=display:flex><span>                    moduleName, moduleInfo, createTime, modifyTime, moduleId) <span style=color:#f92672>&gt;</span> 0) {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1000);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;修改成功&#34;</span>);
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1001);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;修改失败&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 按主键删除一条模块记录</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#34;deleteByModuleId&#34;</span>.<span style=color:#a6e22e>equals</span>(meta)) {
</span></span><span style=display:flex><span>            Integer moduleId <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>valueOf</span>(req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;moduleId&#34;</span>));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (moduleService.<span style=color:#a6e22e>delete</span>(moduleId) <span style=color:#f92672>&gt;</span> 0) {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1000);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;删除成功&#34;</span>);
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1001);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;删除失败&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 其他meta参数均视为参数传递有误</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;meta参数有误&#34;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 回写数据</span>
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>print</span>(JSONUtil.<span style=color:#a6e22e>parse</span>(resultMap));
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>flush</span>();
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>doPost</span>(HttpServletRequest req, HttpServletResponse resp) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>doGet</span>(req, resp);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>访问控制类 <code>ModuleServlet</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#75715e>### 插入一条模块记录</span>
</span></span><span style=display:flex><span>GET http<span style=color:#960050;background-color:#1e0010>:</span>//localhost<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#ae81ff>8080</span>/lesson-document/api/v1/module<span style=color:#66d9ef>?</span>meta=insert&amp;moduleName=Servlet测试模块名称&amp;moduleInfo=Servlet测试模块详细介绍
</span></span><span style=display:flex><span>Accept<span style=color:#960050;background-color:#1e0010>:</span> application/json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 按模块主键查询模块记录</span>
</span></span><span style=display:flex><span>GET http<span style=color:#960050;background-color:#1e0010>:</span>//localhost<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#ae81ff>8080</span>/lesson-document/api/v1/module<span style=color:#66d9ef>?</span>meta=selectByModuleId&amp;moduleId=<span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span>Accept<span style=color:#960050;background-color:#1e0010>:</span> application/json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 全查模块记录</span>
</span></span><span style=display:flex><span>GET http<span style=color:#960050;background-color:#1e0010>:</span>//localhost<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#ae81ff>8080</span>/lesson-document/api/v1/module<span style=color:#66d9ef>?</span>meta=list
</span></span><span style=display:flex><span>Accept<span style=color:#960050;background-color:#1e0010>:</span> application/json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 修改一条模块记录</span>
</span></span><span style=display:flex><span>GET http<span style=color:#960050;background-color:#1e0010>:</span>//localhost<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#ae81ff>8080</span>/lesson-document/api/v1/module<span style=color:#66d9ef>?</span>meta=updateByModuleId&amp;moduleName=Servlet测试模块名称-<span style=color:#ae81ff>1</span>&amp;moduleInfo=Servlet测试模块详细介绍-<span style=color:#ae81ff>1</span>&amp;createTime=<span style=color:#ae81ff>999999998</span>&amp;modifyTime=<span style=color:#ae81ff>999999997</span>&amp;moduleId=<span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span>Accept<span style=color:#960050;background-color:#1e0010>:</span> application/json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 删除一条模块记录</span>
</span></span><span style=display:flex><span>GET http<span style=color:#960050;background-color:#1e0010>:</span>//localhost<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#ae81ff>8080</span>/lesson-document/api/v1/module<span style=color:#66d9ef>?</span>meta=deleteByModuleId&amp;moduleId=<span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span>Accept<span style=color:#960050;background-color:#1e0010>:</span> application/json
</span></span></code></pre></div><h2 id=e05-开发returnservlet>E05. 开发ReturnServlet</h2><blockquote><p>武技: 开发返回值表相关辅助类</p></blockquote><ol><li>开发控制类 <code>ReturnServlet</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.lsx.servlet;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** @author lsx */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@WebServlet</span>(<span style=color:#e6db74>&#34;/api/v1/return&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ReturnServlet</span> <span style=color:#66d9ef>extends</span> HttpServlet {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> ReturnService returnService <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ReturnServiceImpl();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>doGet</span>(HttpServletRequest req, HttpServletResponse resp)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throws</span> IOException {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 最终返回的数据</span>
</span></span><span style=display:flex><span>        Map<span style=color:#f92672>&lt;</span>String, Object<span style=color:#f92672>&gt;</span> resultMap <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashMap<span style=color:#f92672>&lt;&gt;</span>(3);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 获取响应流</span>
</span></span><span style=display:flex><span>        PrintWriter writer <span style=color:#f92672>=</span> resp.<span style=color:#a6e22e>getWriter</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 接收meta参数</span>
</span></span><span style=display:flex><span>        String meta <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;meta&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 插入一条返回值记录</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#34;insert&#34;</span>.<span style=color:#a6e22e>equals</span>(meta)) {
</span></span><span style=display:flex><span>            Integer returnCode <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>valueOf</span>(req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;returnCode&#34;</span>));
</span></span><span style=display:flex><span>            String returnMessage <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;returnMessage&#34;</span>);
</span></span><span style=display:flex><span>            String returnData <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;returnData&#34;</span>);
</span></span><span style=display:flex><span>            Integer methodId <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>valueOf</span>(req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;methodId&#34;</span>));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (returnService.<span style=color:#a6e22e>insert</span>(returnCode, returnMessage, returnData, methodId) <span style=color:#f92672>&gt;</span> 0) {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1000);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;插入成功&#34;</span>);
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1001);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;插入失败&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 按返回值主键修改一条返回值记录</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#34;updateByReturnId&#34;</span>.<span style=color:#a6e22e>equals</span>(meta)) {
</span></span><span style=display:flex><span>            Integer returnCode <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>valueOf</span>(req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;returnCode&#34;</span>));
</span></span><span style=display:flex><span>            Integer fkMethodId <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>valueOf</span>(req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;fkMethodId&#34;</span>));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>long</span> createTime <span style=color:#f92672>=</span> Long.<span style=color:#a6e22e>parseLong</span>(req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;createTime&#34;</span>));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>long</span> modifyTime <span style=color:#f92672>=</span> Long.<span style=color:#a6e22e>parseLong</span>(req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;modifyTime&#34;</span>));
</span></span><span style=display:flex><span>            String returnMessage <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;returnMessage&#34;</span>);
</span></span><span style=display:flex><span>            String returnData <span style=color:#f92672>=</span> req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;returnData&#34;</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> returnId <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>parseInt</span>(req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;returnId&#34;</span>));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (returnService.<span style=color:#a6e22e>updateByReturnId</span>(returnCode, returnMessage,
</span></span><span style=display:flex><span>                    returnData, createTime, modifyTime, fkMethodId, returnId) <span style=color:#f92672>&gt;</span> 0) {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1001);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;修改成功&#34;</span>);
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1002);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;修改失败&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 按返回值主键删除一条返回值记录</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#34;deleteByReturnId&#34;</span>.<span style=color:#a6e22e>equals</span>(meta)) {
</span></span><span style=display:flex><span>            Integer returnId <span style=color:#f92672>=</span> Integer.<span style=color:#a6e22e>valueOf</span>(req.<span style=color:#a6e22e>getParameter</span>(<span style=color:#e6db74>&#34;returnId&#34;</span>));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (returnService.<span style=color:#a6e22e>delete</span>(returnId) <span style=color:#f92672>&gt;</span> 0) {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1001);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;删除成功&#34;</span>);
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;code&#34;</span>, 1002);
</span></span><span style=display:flex><span>                resultMap.<span style=color:#a6e22e>put</span>(<span style=color:#e6db74>&#34;message&#34;</span>, <span style=color:#e6db74>&#34;删除失败&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 其他meta参数均视为参数传递有误</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;meta参数有误&#34;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 回写数据</span>
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>print</span>(JSONUtil.<span style=color:#a6e22e>parse</span>(resultMap));
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>flush</span>();
</span></span><span style=display:flex><span>        writer.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>doPost</span>(HttpServletRequest req, HttpServletResponse resp) <span style=color:#66d9ef>throws</span> IOException {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>doGet</span>(req, resp);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>访问控制类 <code>ReturnServlet</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#75715e>### 插入一条返回值记录</span>
</span></span><span style=display:flex><span>POST http<span style=color:#960050;background-color:#1e0010>:</span>//localhost<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#ae81ff>8080</span>/lesson-document/api/v1/<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>Content-Type<span style=color:#960050;background-color:#1e0010>:</span> application/x-www-form-urlencoded
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>meta=insert&amp;returnCode=<span style=color:#ae81ff>250</span>&amp;returnMessage=测试09&amp;returnData=测试10&amp;methodId=<span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 修改一条返回值记录</span>
</span></span><span style=display:flex><span>POST http<span style=color:#960050;background-color:#1e0010>:</span>//localhost<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#ae81ff>8080</span>/lesson-document/api/v1/<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>Content-Type<span style=color:#960050;background-color:#1e0010>:</span> application/x-www-form-urlencoded
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>meta=updateByReturnId&amp;returnCode=<span style=color:#ae81ff>300</span>&amp;returnMessage=测试11
</span></span><span style=display:flex><span>&amp;fkMethodId=<span style=color:#ae81ff>2</span>&amp;createTime=<span style=color:#ae81ff>9999</span>&amp;modifyTime=<span style=color:#ae81ff>9999</span>&amp;returnData=测试12&amp;returnId=<span style=color:#ae81ff>6</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 删除一条返回值记录</span>
</span></span><span style=display:flex><span>POST http<span style=color:#960050;background-color:#1e0010>:</span>//localhost<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#ae81ff>8080</span>/lesson-document/api/v1/<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>Content-Type<span style=color:#960050;background-color:#1e0010>:</span> application/x-www-form-urlencoded
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>meta=deleteByReturnId&amp;returnId=<span style=color:#ae81ff>6</span>
</span></span></code></pre></div><h1 id=s05-c3项目实战>S05. C3项目实战</h1><h2 id=e01-基础环境搭建>E01. 基础环境搭建</h2><blockquote><p>武技: 创建子项目 <code>lesson-document</code> 的首页和主页</p></blockquote><ol><li>将ICO图标文件 <code>lesson-document.ico</code> 拷贝到项目的webapp目录下。</li><li>在webapp目录下新建首页 <code>index.html</code> 并划分为上左右下4块区域:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>html</span> <span style=color:#a6e22e>lang</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;zh-cmn-Hans&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>title</span>&gt;lesson-document首页&lt;/<span style=color:#f92672>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>charset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;UTF-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;keywords&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;lesson-document子项目，Java，学习&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;author&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;lsx&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;description&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;lesson-document子项目是lesson的文档说明子项目&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>base</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/lesson-document/&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>link</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;icon&#34;</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;image/x-icon&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;lesson-document.ico&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>body</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;indexBody&#34;</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--页头: 功能导航列表--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>header</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;index-header&#34;</span>&gt;&lt;/<span style=color:#f92672>header</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--页左: 广告视频控件--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>section</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;index-left&#34;</span>&gt;&lt;/<span style=color:#f92672>section</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--页右: 用户登录表单--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>section</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;index-right&#34;</span>&gt;&lt;/<span style=color:#f92672>section</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--页脚: 版权声明信息--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>footer</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;index-footer&#34;</span>&gt;&lt;/<span style=color:#f92672>footer</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>html</span>&gt;
</span></span></code></pre></div><ol start=3><li>在webapp目录下新建主页 <code>main.html</code> 并划分为左右2块区域:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>html</span> <span style=color:#a6e22e>lang</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;zh-cmn-Hans&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>title</span>&gt;lesson-document主页&lt;/<span style=color:#f92672>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>charset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;UTF-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;keywords&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;lesson-document子项目，Java，学习&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;author&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;lsx&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;description&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;lesson-document子项目是lesson的文档说明子项目&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>base</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/lesson-document/&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>link</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;icon&#34;</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;image/x-icon&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;lesson-document.ico&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>body</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mainBody&#34;</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--页左: 功能列表--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>section</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;main-left&#34;</span>&gt;&lt;/<span style=color:#f92672>section</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--页右: 内容展板--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>section</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;main-right&#34;</span>&gt;&lt;/<span style=color:#f92672>section</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>html</span>&gt;
</span></span></code></pre></div><ol start=4><li>引入自定义字体文件 <code>webapp/font/consola.ttf</code>:<ul><li>可以拷贝 <code>C:\Windows\Fonts</code> 目录下的 <code>.ttc/.ttf/.otf</code> 字体文件。</li></ul></li><li>开发全局样式文件 <code>webapp/style/global.css</code>:<ul><li>在首页使用 <code>&lt;link rel="stylesheet" href="style/global.css"></code> 引入。</li><li>在主页使用<code>&lt;link rel="stylesheet" href="style/global.css"></code> 引入。</li></ul></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*自定义字体*/</span>
</span></span><span style=display:flex><span>@<span style=color:#66d9ef>font-face</span> {
</span></span><span style=display:flex><span>    <span style=color:#f92672>font-family</span><span style=color:#f92672>:</span> <span style=color:#f92672>my-font</span><span style=color:#f92672>;</span> <span style=color:#75715e>/*自定义字体名称*/</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>src</span><span style=color:#f92672>:</span> <span style=color:#f92672>url</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;../font/consola.ttf&#34;</span><span style=color:#f92672>);</span> <span style=color:#75715e>/*自定义字体文件路径*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>body</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>0</span>; <span style=color:#75715e>/*外边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-size</span>: <span style=color:#ae81ff>15</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*字号*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-align</span>: <span style=color:#66d9ef>center</span>; <span style=color:#75715e>/*内容居中*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>orange</span>; <span style=color:#75715e>/*前景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-family</span>: my-font, <span style=color:#66d9ef>serif</span>; <span style=color:#75715e>/*使用自定义字体*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>a</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-decoration</span>: <span style=color:#66d9ef>none</span>; <span style=color:#75715e>/*取消下划线*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>gray</span>; <span style=color:#75715e>/*前景色*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*当鼠标经过a标签时触发*/</span>
</span></span><span style=display:flex><span><span style=color:#f92672>a</span>:<span style=color:#a6e22e>hover</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>deeppink</span>; <span style=color:#75715e>/*前景色*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>table</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-collapse</span>: <span style=color:#66d9ef>collapse</span>; <span style=color:#75715e>/*边框折叠*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>line-height</span>: <span style=color:#ae81ff>25</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*行高*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>table</span> <span style=color:#f92672>tr</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>30</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>table</span> <span style=color:#f92672>th</span><span style=color:#f92672>,</span> <span style=color:#f92672>td</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border</span>: <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#66d9ef>wheat</span>; <span style=color:#75715e>/*边框*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding-left</span>: <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*左内边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>box-sizing</span>: <span style=color:#66d9ef>border-box</span>; <span style=color:#75715e>/*恢复尺寸*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>table</span> <span style=color:#f92672>td</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>wheat</span>; <span style=color:#75715e>/*前景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-weight</span>: <span style=color:#66d9ef>bolder</span>; <span style=color:#75715e>/*大字号*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=6><li>开发样式文件 <code>webapp/style/index.css</code> : 用于美化首页:<ul><li>在首页使用 <code>&lt;link rel="stylesheet" href="style/index.css"></code> 中引入。</li></ul></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页头*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-header</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>30</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: <span style=color:#66d9ef>black</span>; <span style=color:#75715e>/*背景色*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页左*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-left</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>65</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>550</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: rgb(<span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>55</span>, <span style=color:#ae81ff>60</span>); <span style=color:#75715e>/*背景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>50</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*内边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>box-sizing</span>: <span style=color:#66d9ef>border-box</span>; <span style=color:#75715e>/*恢复尺寸*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span>: <span style=color:#66d9ef>left</span>; <span style=color:#75715e>/*左浮动*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-rignt</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>35</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>550</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: rgb(<span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>55</span>, <span style=color:#ae81ff>60</span>); <span style=color:#75715e>/*背景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>50</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>25</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*内边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>box-sizing</span>: <span style=color:#66d9ef>border-box</span>; <span style=color:#75715e>/*恢复尺寸*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span>: <span style=color:#66d9ef>right</span>; <span style=color:#75715e>/*右浮动*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页脚*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-footer</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>clear</span>: <span style=color:#66d9ef>both</span>; <span style=color:#75715e>/*清除浮动*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>0</span>; <span style=color:#75715e>/*上下/左右内边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: <span style=color:#66d9ef>black</span>; <span style=color:#75715e>/*背景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>position</span>: <span style=color:#66d9ef>fixed</span>; <span style=color:#75715e>/*固定定位*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bottom</span>: <span style=color:#ae81ff>0</span>; <span style=color:#75715e>/*固定定位-下*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=7><li>开发样式文件 <code>webapp/style/main.css</code> : 用于美化主页:<ul><li>在首页使用 <code>&lt;link rel="stylesheet" href="style/main.css"></code> 中引入。</li></ul></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页左*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-left</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>644</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: <span style=color:#66d9ef>black</span>; <span style=color:#75715e>/*背景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>0</span>; <span style=color:#75715e>/*左/上下/右内边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>box-sizing</span>: <span style=color:#66d9ef>border-box</span>; <span style=color:#75715e>/*恢复尺寸*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span>: <span style=color:#66d9ef>left</span>; <span style=color:#75715e>/*左浮动*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>overflow-y</span>: <span style=color:#66d9ef>auto</span>; <span style=color:#75715e>/*竖直方向超出滚动*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-right</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>80</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>644</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: rgb(<span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>55</span>, <span style=color:#ae81ff>60</span>); <span style=color:#75715e>/*背景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>0</span>; <span style=color:#75715e>/*左/上下/右内边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>box-sizing</span>: <span style=color:#66d9ef>border-box</span>; <span style=color:#75715e>/*恢复尺寸*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span>: <span style=color:#66d9ef>right</span>; <span style=color:#75715e>/*右浮动*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>overflow-y</span>: <span style=color:#66d9ef>auto</span>; <span style=color:#75715e>/*竖直方向超出滚动*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=8><li>启动Tomcat服务并访问 <code>lesson-document</code> 项目:<ul><li>cli: <code>http://localhost:8080/lesson-document/index.html</code></li><li>cli: <code>http://localhost:8080/lesson-document/main.html</code></li></ul></li></ol><h2 id=e02-首页功能导航>E02. 首页功能导航</h2><blockquote><p>武技: 在首页头 <code>&lt;header class="index-header">&lt;/header></code> 中布局功能导航列表</p></blockquote><ol><li>布局功能导航列表:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--功能导航列表--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>ul</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-list&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;clock&#34;</span>&gt;2020年01月02日 03:04:05 星期六&lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;关于我们&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;媒体报道&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;平台规则&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;隐私条款&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;服务条款&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;高薪诚聘&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;会员黑卡&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;联系我们&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>ul</span>&gt;
</span></span></code></pre></div><ol start=2><li>美化功能导航列表:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页头 - 功能导航列表 - 列表父元素*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-header</span> .<span style=color:#a6e22e>nav-list</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>0</span>; <span style=color:#75715e>/*内边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>0</span>; <span style=color:#75715e>/*外边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>line-height</span>: <span style=color:#ae81ff>30</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*行高*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页头 - 功能导航列表 - 列表子元素*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-header</span> .<span style=color:#a6e22e>nav-item</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>display</span>: <span style=color:#66d9ef>inline-block</span>; <span style=color:#75715e>/*显示为内联块*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*上下/左右外边距*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e03-首页广告视频>E03. 首页广告视频</h2><blockquote><p>武技: 在首页左 <code>&lt;section class="index-left">&lt;/section></code> 中布局广告视频控件</p></blockquote><ol><li>引入广告视频媒体文件 <code>webapp/media/ad.mp4</code>。</li><li>引入广告视频媒体封面图片 <code>webapp/image/ad-poster.jpg</code>。</li><li>布局广告视频控件:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--广告视频控件: 支持引入多个媒体文件以提高浏览器兼容性--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>video</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ad-video&#34;</span> <span style=color:#a6e22e>controls</span> <span style=color:#a6e22e>loop</span> <span style=color:#a6e22e>poster</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;image/ad-poster.jpg&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>source</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;media/ad.mp4&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>video</span>&gt;
</span></span></code></pre></div><ol start=4><li>美化广告视频控件:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页左 - 广告视频控件*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-left</span> .<span style=color:#a6e22e>ad-video</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>370</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e04-首页登录表单>E04. 首页登录表单</h2><blockquote><p>武技: 在首页右 <code>&lt;section class="index-right">&lt;/section></code> 中布局用户登录表单</p></blockquote><ol><li>引入账号框图标文件 <code>webapp/image/username-icon.png</code>。</li><li>引入密码框图标文件 <code>webapp/image/password-icon.png</code>。</li><li>引入爱心图片 <code>webapp/image/heart.png</code>。</li><li>布局用户登录表单:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--登录表单--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>form</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;login-form&#34;</span> <span style=color:#a6e22e>autocomplete</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;off&#34;</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--登录表单 - 标题--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h3</span>&gt;WELCOME TO LESSON-DOCS&lt;/<span style=color:#f92672>h3</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--登录表单 - 爱心运动面板--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;heartBoard&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;heart-board&#34;</span>&gt;
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!--爱心元素--&gt;</span>
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;heart&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;heart&#34;</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>article</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--登录表单 - 账号框--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>label</span>&gt;
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!--单行文本框: 自动获取焦点，必填--&gt;</span>
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span> <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;手机号/用户名/绑定邮箱&#34;</span> <span style=color:#a6e22e>autofocus</span> <span style=color:#a6e22e>required</span>
</span></span><span style=display:flex><span>               <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;usernameIpt&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;username&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;input username-ipt&#34;</span>/&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>label</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--登录表单 - 密码框--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>label</span>&gt;
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!--单行密码框: 必填--&gt;</span>
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;password&#34;</span> <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;密码&#34;</span> <span style=color:#a6e22e>required</span>
</span></span><span style=display:flex><span>               <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;passwordIpt&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;password&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;input password-ipt&#34;</span>/&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>label</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--登录表单 - 以游客身份登录--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;visitor-login&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;main.html&#34;</span>&gt;以游客身份登录&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>article</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--登录表单 - 服务条款--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>label</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;service-terms&#34;</span>&gt;
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!--多选按钮--&gt;</span>
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;checkbox&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;acceptCbx&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;accept-cbx&#34;</span>/&gt;
</span></span><span style=display:flex><span>        我已阅读并接受&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;《Lesson项目服务条款》&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>label</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--登录表单 - 登录按钮--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;loginBtn&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;login-btn&#34;</span>&gt;管理员登录&lt;/<span style=color:#f92672>button</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--登录表单 - 第三方登录: `&amp;nbsp;` 表示实体空格，其余实体自行百度--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;third-login&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;新浪微博&lt;/<span style=color:#f92672>a</span>&gt;&amp;nbsp;|
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;QQ&lt;/<span style=color:#f92672>a</span>&gt;&amp;nbsp;|
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;支付宝&lt;/<span style=color:#f92672>a</span>&gt;&amp;nbsp;|
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;其他登录方式&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>article</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>form</span>&gt;
</span></span></code></pre></div><ol start=5><li>美化用户登录表单:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页右*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-right</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>35</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>550</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: rgb(<span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>55</span>, <span style=color:#ae81ff>60</span>); <span style=color:#75715e>/*背景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>50</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>25</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*内边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>box-sizing</span>: <span style=color:#66d9ef>border-box</span>; <span style=color:#75715e>/*恢复尺寸*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span>: <span style=color:#66d9ef>right</span>; <span style=color:#75715e>/*右浮动*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 用户登录表单*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-right</span> .<span style=color:#a6e22e>login-form</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>300</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>340</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*上右下左内边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: <span style=color:#66d9ef>black</span>; <span style=color:#75715e>/*背景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*圆角*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>box-shadow</span>: <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>gray</span>; <span style=color:#75715e>/*阴影*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 用户登录表单 - 爱心移动面板*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-right</span> .<span style=color:#a6e22e>heart-board</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>position</span>: <span style=color:#66d9ef>relative</span>; <span style=color:#75715e>/*相对定位*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>300</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-bottom</span>: <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#66d9ef>gray</span>; <span style=color:#75715e>/*下边框*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 用户登录表单 - 爱心元素*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-right</span> .<span style=color:#a6e22e>heart</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>position</span>: <span style=color:#66d9ef>absolute</span>; <span style=color:#75715e>/*绝对定位*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-size</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span> <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*背景图片尺寸*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-image</span>: url(<span style=color:#e6db74>../image/heart.png</span>); <span style=color:#75715e>/*背景图片*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 用户登录表单 - 账号框和密码框*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-right</span> .<span style=color:#a6e22e>input</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding-left</span>: <span style=color:#ae81ff>35</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*左内边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>90</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>35</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*外边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border</span>: <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#66d9ef>gray</span>; <span style=color:#75715e>/*边框*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*圆角*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>outline</span>: <span style=color:#66d9ef>none</span>; <span style=color:#75715e>/*轮廓*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>box-sizing</span>: <span style=color:#66d9ef>border-box</span>; <span style=color:#75715e>/*恢复大小*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 用户登录表单 - 账号框*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-right</span> .<span style=color:#a6e22e>username-ipt</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin-top</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*上边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/*背景色，背景图片地址，不平铺，背景图宽度，背景图高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background</span>: <span style=color:#66d9ef>white</span> url(<span style=color:#e6db74>../image/username-icon.png</span>) <span style=color:#66d9ef>no-repeat</span> <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 用户登录表单 - 密码框*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-right</span> .<span style=color:#a6e22e>password-ipt</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>/*背景色，背景图片地址，不平铺，背景图宽度，背景图高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background</span>: <span style=color:#66d9ef>white</span> url(<span style=color:#e6db74>../image/password-icon.png</span>) <span style=color:#66d9ef>no-repeat</span> <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 用户登录表单 - 以游客身份登录按钮*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-right</span> .<span style=color:#a6e22e>visitor-login</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin-right</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*右边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-align</span>: <span style=color:#66d9ef>right</span>; <span style=color:#75715e>/*居右*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-size</span>: <span style=color:#66d9ef>smaller</span>; <span style=color:#75715e>/*文字小一号*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 用户登录表单 - 服务条款*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-right</span> .<span style=color:#a6e22e>service-terms</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>display</span>: <span style=color:#66d9ef>block</span>; <span style=color:#75715e>/*显示为区块*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>25</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>auto</span> <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*上/左右/下外边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>90</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-align</span>: <span style=color:#66d9ef>left</span>; <span style=color:#75715e>/*内容居左*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-size</span>: <span style=color:#66d9ef>smaller</span>; <span style=color:#75715e>/*小字号*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>line-height</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*行高*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 用户登录表单 - 接受服务条款多选框*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-right</span> .<span style=color:#a6e22e>accept-cbx</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>vertical-align</span>: <span style=color:#66d9ef>top</span>; <span style=color:#75715e>/*垂直居中*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 用户登录表单 - 登录按钮*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-right</span> .<span style=color:#a6e22e>login-btn</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>90</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>35</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>auto</span>; <span style=color:#75715e>/*上下/左右外边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: <span style=color:#66d9ef>orange</span>; <span style=color:#75715e>/*背景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border</span>: <span style=color:#ae81ff>0</span>; <span style=color:#75715e>/*边框*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>3</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*圆角*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>letter-spacing</span>: <span style=color:#ae81ff>2</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*字间距*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 用户登录表单 - 第三方登录*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-right</span> .<span style=color:#a6e22e>third-login</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-align</span>: <span style=color:#66d9ef>center</span>; <span style=color:#75715e>/*内容居中*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin-top</span>: <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*上外边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>gray</span>; <span style=color:#75715e>/*前景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-size</span>: <span style=color:#66d9ef>smaller</span>; <span style=color:#75715e>/*小字号*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e05-首页版权声明>E05. 首页版权声明</h2><blockquote><p>武技: 在首页脚 <code>&lt;footer class="index-footer">&lt;/footer></code> 中布局版权声明信息</p></blockquote><ol><li>布局版权声明信息:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--版权声明信息--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;copyright&#34;</span>&gt;
</span></span><span style=display:flex><span>    Copyright &amp;copy; 2023-Now All Rights Reserved 
</span></span><span style=display:flex><span>    使用本网站即表示接受李氏云课堂用户协议 版权所有 哈尔滨XXXX有限公司 &lt;<span style=color:#f92672>br</span>/&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;增值业务经营许可证：黑A-001&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;网络文化经营许可证：黑网文〔2022〕001-999号&lt;/<span style=color:#f92672>a</span>&gt; &lt;<span style=color:#f92672>br</span>/&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;经营主体证照&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;风险监测信息&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;未成年人关怀专区&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;黑公网安备 （2022）001号 黑ICP备001号&lt;/<span style=color:#f92672>a</span>&gt; &lt;<span style=color:#f92672>br</span>/&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;出版物网络交易平台服务经营备案证：黑新出网备（2022）001号&lt;/<span style=color:#f92672>a</span>&gt; &lt;<span style=color:#f92672>br</span>/&gt;
</span></span><span style=display:flex><span>    违法和不良信息举报电话：14384389438 算法推荐违规举报电话：14384389438
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>article</span>&gt;
</span></span></code></pre></div><ol start=2><li>美化版权声明信息:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页脚 - 版权声明信息 */</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>index-footer</span> .<span style=color:#a6e22e>copyright</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>gray</span>; <span style=color:#75715e>/*前景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-size</span>: <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*字号*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>line-height</span>: <span style=color:#ae81ff>19</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*行高*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e06-主页网站标识>E06. 主页网站标识</h2><blockquote><p>武技: 在主页左 <code>&lt;section class="main-left">&lt;/section></code> 中布局网站标识图片</p></blockquote><ol><li>引入网站标识图片 <code>webapp/image/logo.png</code>。</li><li>布局网站标识图片:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--网站标识图片--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;image/logo.jpg&#34;</span> <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;对不起，您的图片走丢了...&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;logo&#34;</span>/&gt;
</span></span></code></pre></div><ol start=3><li>美化网站标识图片:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页左 - 网站标识图片*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-left</span> .<span style=color:#a6e22e>logo</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*圆角*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>auto</span>; <span style=color:#75715e>/*上下外边距，左右居中*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e07-主页模块菜单>E07. 主页模块菜单</h2><blockquote><p>武技: 在主页左 <code>&lt;section class="main-left">&lt;/section></code> 中布局模块下拉菜单</p></blockquote><ol><li>布局模块下拉菜单:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--网站标识图片--&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--模块下拉菜单: 数据需要使用AJAX从后台获取--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>label</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>select</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;moduleSelector&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;module-selector&#34;</span>&gt;&lt;/<span style=color:#f92672>select</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>label</span>&gt;
</span></span></code></pre></div><ol start=2><li>美化模块下拉菜单:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页左 - 模块下拉菜单*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-left</span> .<span style=color:#a6e22e>module-selector</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>30</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin-bottom</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*下外边距*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e08-主页接口列表>E08. 主页接口列表</h2><blockquote><p>武技: 在主页左 <code>&lt;section class="main-left">&lt;/section></code> 中布局接口方法列表</p></blockquote><ol><li>布局接口方法列表:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--模块下拉菜单--&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--接口方法列表: 使用AJAX动态拉取对应模块下的所有method接口方法--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;methodList&#34;</span>&gt;&lt;/<span style=color:#f92672>article</span>&gt;
</span></span></code></pre></div><ol start=2><li>美化接口方法列表:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/**页左 - 接口方法列表项*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-left</span> .<span style=color:#a6e22e>method-list-item</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-align</span>: <span style=color:#66d9ef>left</span>; <span style=color:#75715e>/*文字居左*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>30</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: rgb(<span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>55</span>, <span style=color:#ae81ff>60</span>); <span style=color:#75715e>/*背景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-weight</span>: <span style=color:#66d9ef>bolder</span>; <span style=color:#75715e>/*大字号*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>line-height</span>: <span style=color:#ae81ff>30</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*行高*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*圆角*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>auto</span>; <span style=color:#75715e>/*上下外边距 左右居中*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>box-sizing</span>: <span style=color:#66d9ef>border-box</span>; <span style=color:#75715e>/*忽略尺寸*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding-left</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*左内边距*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e09-主页回顶按钮>E09. 主页回顶按钮</h2><blockquote><p>武技: 在主页右 <code>&lt;section class="main-right">&lt;/section></code> 中布局回到顶部按钮</p></blockquote><ol><li>布局隐藏锚点和回到顶部按钮:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--隐藏锚点--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;top&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;top&#34;</span>&gt;&lt;/<span style=color:#f92672>article</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--后续全部内容都在锚点和锚链接按钮之间开发--&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--锚链接按钮: 点击回到锚点top的位置--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>h4</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;main.html#top&#34;</span>&gt;回到首行&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>h4</span>&gt;
</span></span></code></pre></div><ol start=2><li>美化隐藏锚点:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页右 - 回到顶部按钮的隐藏锚点*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-right</span> .<span style=color:#a6e22e>top</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>visibility</span>: <span style=color:#66d9ef>hidden</span>; <span style=color:#75715e>/*存在但不可见*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=ep10-主页注销按钮>EP10. 主页注销按钮</h2><blockquote><p>武技: 在主页右 <code>&lt;section class="main-right">&lt;/section></code> 中布局退出登录按钮</p></blockquote><ol><li>布局退出登录按钮:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--退出登录按钮--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;logout&#34;</span>&gt;
</span></span><span style=display:flex><span>    当前用户: &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;usernameSpan&#34;</span>&gt;张三&lt;/<span style=color:#f92672>span</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;index.html&#34;</span>&gt;[Logout]&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>article</span>&gt;
</span></span></code></pre></div><ol start=2><li>美化退出登录按钮:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页右 - 退出登录按钮*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-right</span> .<span style=color:#a6e22e>logout</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-align</span>: <span style=color:#66d9ef>right</span>; <span style=color:#75715e>/*内容水平位置*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin-top</span>: <span style=color:#ae81ff>5</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*上外边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin-right</span>: <span style=color:#ae81ff>60</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*右外边距*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=ep11-主页项目介绍>EP11. 主页项目介绍</h2><blockquote><p>武技: 在主页右 <code>&lt;section class="main-right">&lt;/section></code> 中布局项目基本介绍</p></blockquote><ol><li>布局项目基本介绍:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--退出登录按钮--&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--项目基本介绍--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>header</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;info&#34;</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--项目基本介绍 - 标题--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h2</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;title&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;title&#34;</span>&gt;项目大标题&lt;/<span style=color:#f92672>span</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>br</span>/&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>small</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;subTitle&#34;</span>&gt;项目小标题&lt;/<span style=color:#f92672>small</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>h2</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--项目基本介绍 - 内容--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;content&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;content&#34;</span>&gt;项目介绍内容&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>header</span>&gt;
</span></span></code></pre></div><ol start=2><li>美化项目基本介绍:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页右 - 项目基本介绍*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-right</span> .<span style=color:#a6e22e>info</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>wheat</span>; <span style=color:#75715e>/*前景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-bottom</span>: <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#66d9ef>gray</span>; <span style=color:#75715e>/*下边框*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 项目基本介绍 - 标题*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-right</span> .<span style=color:#a6e22e>title</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>orange</span>; <span style=color:#75715e>/*前景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-shadow</span>: <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>gray</span>; <span style=color:#75715e>/*文字阴影*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 项目基本介绍 - 内容*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-right</span> .<span style=color:#a6e22e>content</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>90</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>auto</span>; <span style=color:#75715e>/*上下外边距 左右居中*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-indent</span>: <span style=color:#ae81ff>30</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*首行缩进*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-align</span>: <span style=color:#66d9ef>left</span>; <span style=color:#75715e>/*文字居左*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>line-height</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*行高*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=ep12-主页三角箭头>EP12. 主页三角箭头</h2><blockquote><p>心法: 三角箭头符号</p></blockquote><ul><li>三角形，圆形，五边形等形状的容器，都是从矩形变化而来的。</li></ul><blockquote><p>武技: 在主页右 <code>&lt;section class="main-right">&lt;/section></code> 中布局三角箭头符号</p></blockquote><ol><li>布局三角箭头符号:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--项目基本介绍--&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--三角箭头符号: 三角形，圆形，五边形等形状的容器，都是从矩形变化而来的--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;triangle&#34;</span>&gt;&lt;/<span style=color:#f92672>article</span>&gt;
</span></span></code></pre></div><ol start=2><li>美化三角箭头符号:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页右 - 三角箭头符号*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-right</span> .<span style=color:#a6e22e>triangle</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>0</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>0</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-left</span>: <span style=color:#ae81ff>30</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#66d9ef>transparent</span>; <span style=color:#75715e>/*左边框: transparent表示透明*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-right</span>: <span style=color:#ae81ff>30</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#66d9ef>transparent</span>; <span style=color:#75715e>/*右边框: transparent表示透明*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-top</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#66d9ef>black</span>; <span style=color:#75715e>/*上边框*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#66d9ef>auto</span>; <span style=color:#75715e>/*自居中*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=ep13-主页接口详情>EP13. 主页接口详情</h2><blockquote><p>武技: 在主页右 <code>&lt;section class="main-right">&lt;/section></code> 中布局接口详细内容</p></blockquote><ol><li>布局接口详细内容:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--三角箭头符号--&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!--接口详细内容--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>section</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;method-info&#34;</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--接口详细内容 - 接口方法标题--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h4</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;methodTitle&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;data&#34;</span>&gt;[接口方法标题]&lt;/<span style=color:#f92672>h4</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--接口详细内容 - 接口请求方式按钮与请求地址--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;method-info-url&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;requestMethodBtn&#34;</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;request-method-btn&#34;</span>&gt;GET&lt;/<span style=color:#f92672>button</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;requestUrl&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;data&#34;</span>&gt;[接口方法URL地址]&lt;/<span style=color:#f92672>span</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>article</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--接口详细内容 - 接口方法描述--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;methodInfo&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;data&#34;</span>&gt;[接口方法描述]&lt;/<span style=color:#f92672>article</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--接口详细内容 - 请求参数类型--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h4</span>&gt;请求参数描述: &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;requestMime&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;data&#34;</span>&gt;[请求参数类型]&lt;/<span style=color:#f92672>span</span>&gt;&lt;/<span style=color:#f92672>h4</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--接口详细内容 - 请求参数表格--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>table</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>thead</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>tr</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;参数名称&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;参数类型&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;是否必填&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;默认值&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;参数描述&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;首次创建时间&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;最后修改时间&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>tr</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>thead</span>&gt;
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!--使用AJAX遍历数据--&gt;</span>
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>tbody</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;paramTbody&#34;</span>&gt;&lt;/<span style=color:#f92672>tbody</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>table</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--接口详细内容 - 响应数据类型--&gt;</span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h4</span>&gt;响应数据描述: &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;responseMime&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;data&#34;</span>&gt;[响应数据类型]&lt;/<span style=color:#f92672>span</span>&gt;&lt;/<span style=color:#f92672>h4</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>table</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>thead</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>tr</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;返回值状态码&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;返回值描述&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;返回值数据&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;首次创建时间&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;最后修改时间&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>tr</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>thead</span>&gt;
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!--使用AJAX遍历数据--&gt;</span>
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>tbody</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;returnTbody&#34;</span>&gt;&lt;/<span style=color:#f92672>tbody</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>table</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>section</span>&gt;
</span></span></code></pre></div><ol start=2><li>美化接口详细内容:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*页右 - 接口详细内容*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-right</span> .<span style=color:#a6e22e>method-info</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-align</span>: <span style=color:#66d9ef>left</span>; <span style=color:#75715e>/*文字居左*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 接口详细内容 - 接口请求方式按钮与请求地址*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-right</span> .<span style=color:#a6e22e>method-info-url</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>10</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>auto</span>; <span style=color:#75715e>/*上下/左右外边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border</span>: <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#66d9ef>wheat</span>; <span style=color:#75715e>/*边框*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>3</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*圆角*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 接口详细内容 - 从数据库中获取的数据*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-right</span> .<span style=color:#a6e22e>data</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>wheat</span>; <span style=color:#75715e>/*前景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>font-weight</span>: <span style=color:#66d9ef>bolder</span>; <span style=color:#75715e>/*大字号*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*页右 - 接口详细内容 - 请求类型按钮*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>main-right</span> .<span style=color:#a6e22e>request-method-btn</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>2</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*外边距*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>50</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>25</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>line-height</span>: <span style=color:#ae81ff>25</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*行高*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-color</span>: <span style=color:#66d9ef>orange</span>; <span style=color:#75715e>/*背景色*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border</span>: <span style=color:#ae81ff>0</span>; <span style=color:#75715e>/*边框*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>3</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*圆角*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=s05-js项目实战>S05. JS项目实战</h1><h2 id=e01-基础环境搭建-1>E01. 基础环境搭建</h2><blockquote><p>武技: 在子项目 <code>lesson-document</code> 中搭建JS基础环境</p></blockquote><ol><li>开发JS文件 <code>webapp/script/ajax-util.js</code>: 用于向后台发送请求:<ul><li>在首页使用 <code>&lt;script src="script/ajax-util.js">&lt;/script></code> 引入。</li><li>在首页使用 <code>&lt;script src="script/ajax-util.js">&lt;/script></code> 引入。</li></ul></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e> * AJAX远程调用，参数是一个JSON对象
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * param url         请求地址，默认空字符串
</span></span></span><span style=display:flex><span><span style=color:#75715e> * param type        请求方式，可选 get/post，默认 get
</span></span></span><span style=display:flex><span><span style=color:#75715e> * param data        请求参数，仅在 post 请求时生效，必须是JSON格式
</span></span></span><span style=display:flex><span><span style=color:#75715e> * param contentType 请求参数的格式，可选 json/qs/file，默认 qs
</span></span></span><span style=display:flex><span><span style=color:#75715e> * param dataType    响应数据的格式，可选 json/text，默认 json
</span></span></span><span style=display:flex><span><span style=color:#75715e> * param success     回调函数，函数的第一个参数为响应数据
</span></span></span><span style=display:flex><span><span style=color:#75715e> * param async       是否开启异步，默认 true
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>ajax</span>(<span style=color:#a6e22e>params</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 创建AJAX核心对象: 该对象负责与服务器进行通信
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>xhr</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>XMLHttpRequest</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 处理参数，添加默认值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>url</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;url&#39;</span>] <span style=color:#f92672>?</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;url&#39;</span>] <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>type</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>?</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;get&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>contentType</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;contentType&#39;</span>] <span style=color:#f92672>?</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;contentType&#39;</span>] <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;qs&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dataType</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;dataType&#39;</span>] <span style=color:#f92672>?</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;dataType&#39;</span>] <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;json&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>async</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;async&#39;</span>] <span style=color:#f92672>?</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;async&#39;</span>] <span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 挂载状态监听事件: 该事件在请求状态码发生改变时触发，必须写于 xhr.open() 之前
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>onreadystatechange</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 请求已完成，且响应成功，且存在回调函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>readyState</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>status</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>200</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;success&#39;</span>]) {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 根据 dataType 判断是否需要解析响应数据
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>resp</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;text&#39;</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>dataType</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>responseText</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>responseText</span>);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 执行回调函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;success&#39;</span>](<span style=color:#a6e22e>resp</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 建立异步通道: 参数分别为请求类型，请求地址以及是否开启异步
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>open</span>(<span style=color:#a6e22e>type</span>, <span style=color:#a6e22e>url</span>, <span style=color:#66d9ef>async</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 若请求类型为GET
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#39;get&#39;</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>type</span>) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 发送GET请求，请求参数直接在URL后面附加查询串即可
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>send</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 若请求类型为POST
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 表单数据，对应后台 `@RequestParam` 注解 + 简单类型参数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#39;qs&#39;</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>contentType</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>setRequestHeader</span>(<span style=color:#e6db74>&#39;Content-Type&#39;</span>, <span style=color:#e6db74>&#39;application/x-www-form-urlencoded&#39;</span>)
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>send</span>(<span style=color:#a6e22e>jsonToQs</span>(<span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;data&#39;</span>]));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// JSON数据，对应后台 `@RequestBody` 注解 + 实体类型参数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#39;json&#39;</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>contentType</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>setRequestHeader</span>(<span style=color:#e6db74>&#39;Content-Type&#39;</span>, <span style=color:#e6db74>&#39;application/json;charset=utf-8&#39;</span>)
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>send</span>(<span style=color:#a6e22e>jsonToStr</span>(<span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;data&#39;</span>]));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 二进制数据，对应后台 `@RequestParam` 注解 + MultipartFile类型参数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#39;file&#39;</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>contentType</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>xhr</span>.<span style=color:#a6e22e>send</span>(<span style=color:#a6e22e>jsonToFormData</span>(<span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#39;data&#39;</span>]));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*将JSON数据转为QS字符串*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>jsonToQs</span>(<span style=color:#a6e22e>json</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> Object.<span style=color:#a6e22e>keys</span>(<span style=color:#a6e22e>json</span>).<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>key</span> =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>json</span>[<span style=color:#a6e22e>key</span>])) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>json</span>[<span style=color:#a6e22e>key</span>].<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>e</span> =&gt; <span style=color:#a6e22e>key</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;=&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>e</span>).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&amp;&#39;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>key</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;=&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>json</span>[<span style=color:#a6e22e>key</span>]
</span></span><span style=display:flex><span>    }).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&amp;&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*将JSON数据转为JSON字符串*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>jsonToStr</span>(<span style=color:#a6e22e>json</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>(<span style=color:#a6e22e>json</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*将JSON数据转为FormData*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>jsonToFormData</span>(<span style=color:#a6e22e>json</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>formData</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>FormData</span>();
</span></span><span style=display:flex><span>    Object.<span style=color:#a6e22e>keys</span>(<span style=color:#a6e22e>json</span>).<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>key</span> =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>formData</span>.<span style=color:#a6e22e>append</span>(<span style=color:#a6e22e>key</span>, <span style=color:#a6e22e>json</span>[<span style=color:#a6e22e>key</span>]);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>formData</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>开发全局JS文件 <code>webapp/script/global.js</code>:<ul><li>在首页使用 <code>&lt;script src="script/global.js">&lt;/script></code> 引入。</li><li>在主页使用 <code>&lt;script src="script/global.js">&lt;/script></code> 引入。</li></ul></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>appName</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;/lesson-document&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>successCode</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1000</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 快速获取DOM元素 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>selector</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> document.<span style=color:#a6e22e>querySelector</span>(<span style=color:#a6e22e>selector</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 快速创建DOM元素 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>create</span>(<span style=color:#a6e22e>selector</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> document.<span style=color:#a6e22e>createElement</span>(<span style=color:#a6e22e>selector</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 封装一个快速创建数据列td的函数 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>text</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>td</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>create</span>(<span style=color:#e6db74>&#39;td&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>td</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>text</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>td</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 根据JS真假规范判断对象*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>isTrue</span>(<span style=color:#a6e22e>o</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>!!</span><span style=color:#a6e22e>o</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 将时间戳转为日期 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>toDate</span>(<span style=color:#a6e22e>timestamp</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>date</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date(<span style=color:#a6e22e>timestamp</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>yyyy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>date</span>.<span style=color:#a6e22e>getFullYear</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mm</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>date</span>.<span style=color:#a6e22e>getMonth</span>() <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mm</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>mm</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>mm</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>mm</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dd</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>date</span>.<span style=color:#a6e22e>getDate</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dd</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dd</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>?</span> (<span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dd</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>dd</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>hh</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>date</span>.<span style=color:#a6e22e>getHours</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hh</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>hh</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>?</span> (<span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>hh</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>hh</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mi</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>date</span>.<span style=color:#a6e22e>getMinutes</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mi</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>mi</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>?</span> (<span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>mi</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>mi</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>ss</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>date</span>.<span style=color:#a6e22e>getSeconds</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ss</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ss</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>?</span> (<span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>ss</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>ss</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>yyyy</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>mm</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dd</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;T&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>hh</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;:&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>mi</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;:&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>ss</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>开发JS文件 <code>webapp/script/index.js</code>: 用于开发首页功能:<ul><li>在首页使用 <code>&lt;script src="script/index.js">&lt;/script></code> 引入。</li></ul></li><li>开发JS文件 <code>webapp/script/main.js</code>: 用于开发主页功能:<ul><li>在主页使用 <code>&lt;script src="script/main.js">&lt;/script></code> 引入。</li></ul></li></ol><h2 id=e02-数码时钟功能>E02. 数码时钟功能</h2><blockquote><p>武技: 在首页JS文件 <code>index.js</code> 中开发数码时钟功能</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/* 定义数码时钟定时器实例 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>clockTimer</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>startClock</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 开启数码时钟 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>startClock</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 先关后开，防止定时器叠加
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>clearInterval</span>(<span style=color:#a6e22e>clockTimer</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 创建定时器任务
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>clockTask</span>() {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 获取当前日期
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>now</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date();
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 获取当前日期中的年月日时分秒和星期数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>yyyy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getFullYear</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mm</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getMonth</span>() <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getMonth</span>() <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getMonth</span>() <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dd</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getDate</span>() <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getDate</span>() <span style=color:#f92672>:</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getDate</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>hh</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getHours</span>() <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getHours</span>() <span style=color:#f92672>:</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getHours</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mi</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getMinutes</span>() <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getMinutes</span>() <span style=color:#f92672>:</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getMinutes</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>ss</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getSeconds</span>() <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getSeconds</span>() <span style=color:#f92672>:</span> <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getSeconds</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>week</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;一二三四五六日&#39;</span>.<span style=color:#a6e22e>charAt</span>(<span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>getDay</span>() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 将当前日期重新组装后，展示到页头的导航列表首位
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#34;#clock&#34;</span>).<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>yyyy</span><span style=color:#e6db74>}</span><span style=color:#e6db74>年</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>mm</span><span style=color:#e6db74>}</span><span style=color:#e6db74>月</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>dd</span><span style=color:#e6db74>}</span><span style=color:#e6db74>日 星期</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>week</span><span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>hh</span><span style=color:#e6db74>}</span><span style=color:#e6db74>:</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>mi</span><span style=color:#e6db74>}</span><span style=color:#e6db74>:</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>ss</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 手动调用一次数码时钟任务，防止视觉卡顿
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>clockTask</span>();
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 开启定时器: 每隔1秒钟，执行一次clockTask方法
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>clockTimer</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>setInterval</span>(<span style=color:#a6e22e>clockTask</span>, <span style=color:#ae81ff>1000</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e03-用户登录功能>E03. 用户登录功能</h2><blockquote><p>武技: 在首页JS文件 <code>index.js</code> 中开发登录功能</p></blockquote><ol><li>开发 <code>onload()</code> 加载函数: 获取登录按钮并挂载点击事件:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 抓取登录按钮，账号框，密码框
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>loginBtn</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#34;#loginBtn&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>usernameIpt</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#34;#usernameIpt&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>passwordIpt</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#34;#passwordIpt&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 为账号框挂载丧失焦点事件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>usernameIpt</span>.<span style=color:#a6e22e>onblur</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 若账号框丧失焦点时值为空，则将其边框设置为红色，否则将其边框恢复成初始值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>isTrue</span>(<span style=color:#a6e22e>usernameIpt</span>.<span style=color:#a6e22e>value</span>)) <span style=color:#a6e22e>usernameIpt</span>.<span style=color:#a6e22e>style</span>[<span style=color:#e6db74>&#39;border&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>usernameIpt</span>.<span style=color:#a6e22e>style</span>[<span style=color:#e6db74>&#39;border&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;1px solid red&#39;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 为密码框挂载丧失焦点事件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>passwordIpt</span>.<span style=color:#a6e22e>onblur</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 若密码框丧失焦点时值为空，则将其边框设置为红色，否则将其边框恢复成初始值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>isTrue</span>(<span style=color:#a6e22e>passwordIpt</span>.<span style=color:#a6e22e>value</span>)) <span style=color:#a6e22e>passwordIpt</span>.<span style=color:#a6e22e>style</span>[<span style=color:#e6db74>&#39;border&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>passwordIpt</span>.<span style=color:#a6e22e>style</span>[<span style=color:#e6db74>&#39;border&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;1px solid red&#39;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 为元素挂载点击事件，值是一个箭头函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>loginBtn</span>.<span style=color:#a6e22e>onclick</span> <span style=color:#f92672>=</span> () =&gt; <span style=color:#a6e22e>login</span>(<span style=color:#a6e22e>usernameIpt</span>, <span style=color:#a6e22e>passwordIpt</span>);
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><ol start=2><li>重写 <code>login()</code> 方法: 校验登录相关参数:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/* 登录方法 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>login</span>(<span style=color:#a6e22e>usernameIpt</span>, <span style=color:#a6e22e>passwordIpt</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 获取服务条款多选框控件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>acceptCbx</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#34;#acceptCbx&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 为账号框设置焦点
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>usernameIpt</span>.<span style=color:#a6e22e>focus</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 账号为空: 弹窗提示并为账号框重新设置焦点
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>isTrue</span>(<span style=color:#a6e22e>usernameIpt</span>.<span style=color:#a6e22e>value</span>)) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>alert</span>(<span style=color:#e6db74>&#39;账号不能为空&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>usernameIpt</span>.<span style=color:#a6e22e>focus</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 密码为空: 弹窗提示并为密码框重新设置焦点
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>isTrue</span>(<span style=color:#a6e22e>passwordIpt</span>.<span style=color:#a6e22e>value</span>)) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>alert</span>(<span style=color:#e6db74>&#39;密码不能为空&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>passwordIpt</span>.<span style=color:#a6e22e>focus</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 未勾选协议: 弹窗提示
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>acceptCbx</span>.<span style=color:#a6e22e>checked</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>alert</span>(<span style=color:#e6db74>&#39;请先阅读并接受Lesson项目服务条款&#39;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 全部校验通过
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 利用Ajax向服务器发送请求
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>sendLoginRequest</span>(<span style=color:#a6e22e>usernameIpt</span>, <span style=color:#a6e22e>passwordIpt</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 利用Ajax向服务器发送请求 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>sendLoginRequest</span>(<span style=color:#a6e22e>usernameIpt</span>, <span style=color:#a6e22e>passwordIpt</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 输入语句的内容可以在浏览器F12控制台查看输出内容
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;利用Ajax向服务器发送请求&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>重写 <code>sendLoginRequest()</code> 方法: 利用Ajax向服务器发送请求:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/* 利用Ajax向服务器发送登录请求 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>sendLoginRequest</span>(<span style=color:#a6e22e>usernameIpt</span>, <span style=color:#a6e22e>passwordIpt</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ajax</span>({
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;url&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>appName</span><span style=color:#e6db74>}</span><span style=color:#e6db74>/api/v1/login`</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;type&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;post&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;data&#39;</span><span style=color:#f92672>:</span> {<span style=color:#e6db74>&#34;username&#34;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>usernameIpt</span>.<span style=color:#a6e22e>value</span>, <span style=color:#e6db74>&#34;password&#34;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>passwordIpt</span>.<span style=color:#a6e22e>value</span>},
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;success&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>resp</span> =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 登录成功: 存储用户名后，跳转到主页面
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>code</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>successCode</span>) {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>sessionStorage</span>.<span style=color:#a6e22e>setItem</span>(<span style=color:#e6db74>&#34;username&#34;</span>, <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>location</span>.<span style=color:#a6e22e>href</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;main.html&#39;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 登录失败: 重置账号密码框并弹窗提示
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>usernameIpt</span>.<span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>passwordIpt</span>.<span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>usernameIpt</span>.<span style=color:#a6e22e>focus</span>();
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e04-爱心滚动功能>E04. 爱心滚动功能</h2><blockquote><p>武技: 在登录表单标题下方开发爱心滚动特效</p></blockquote><ol><li>开发JS文件 <code>webapp/script/move-util.js</code>: 用于封装运动框架:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e> * 完美运动框架，参数是一个JSON对象
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * param obj                要发生运动的元素，object类型
</span></span></span><span style=display:flex><span><span style=color:#75715e> * param params.target      运动目标，json类型
</span></span></span><span style=display:flex><span><span style=color:#75715e> * param params.speedNum    缓冲常数，数值越大，幅度越大，默认10
</span></span></span><span style=display:flex><span><span style=color:#75715e> * param params.period      运动周期，数值越大，运动越快，默认50毫秒
</span></span></span><span style=display:flex><span><span style=color:#75715e> * param params.callback    运动结束后的回调函数，可以省略
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>move</span>(<span style=color:#a6e22e>obj</span>, <span style=color:#a6e22e>params</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>speedNum</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#34;speedNum&#34;</span>] <span style=color:#f92672>?</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#34;speedNum&#34;</span>] <span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>period</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#34;period&#34;</span>] <span style=color:#f92672>?</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#34;period&#34;</span>] <span style=color:#f92672>:</span> <span style=color:#ae81ff>50</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>target</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#34;target&#34;</span>] <span style=color:#f92672>?</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#34;target&#34;</span>] <span style=color:#f92672>:</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>callback</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#34;callback&#34;</span>] <span style=color:#f92672>?</span> <span style=color:#a6e22e>params</span>[<span style=color:#e6db74>&#34;callback&#34;</span>] <span style=color:#f92672>:</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>target</span>) <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>clearInterval</span>(<span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>timer</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>timer</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>setInterval</span>(() =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>target</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>hasOwnProperty</span>(<span style=color:#a6e22e>key</span>)) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>targetVal</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>target</span>[<span style=color:#a6e22e>key</span>]);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>currentVal</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>css</span>(<span style=color:#a6e22e>obj</span>, <span style=color:#a6e22e>key</span>));
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>currentVal</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>targetVal</span>) {
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>clearInterval</span>(<span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>timer</span>);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>callback</span>) <span style=color:#a6e22e>callback</span>();
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>speed</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>targetVal</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>currentVal</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>speedNum</span>;
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>speed</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>speed</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>?</span> Math.<span style=color:#a6e22e>ceil</span>(<span style=color:#a6e22e>speed</span>) <span style=color:#f92672>:</span> Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>speed</span>);
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>obj</span>[<span style=color:#e6db74>&#34;style&#34;</span>][<span style=color:#a6e22e>key</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>currentVal</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>speed</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;px&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }, <span style=color:#a6e22e>period</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>css</span>(<span style=color:#a6e22e>obj</span>, <span style=color:#a6e22e>key</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>obj</span>[<span style=color:#e6db74>&#34;currentStyle&#34;</span>] <span style=color:#f92672>?</span> <span style=color:#a6e22e>obj</span>[<span style=color:#e6db74>&#34;currentStyle&#34;</span>][<span style=color:#a6e22e>key</span>] <span style=color:#f92672>:</span> <span style=color:#a6e22e>getComputedStyle</span>(<span style=color:#a6e22e>obj</span>)[<span style=color:#a6e22e>key</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>在首页的 <code>&lt;body></code> 末尾引入运动框架脚本文件:<ul><li><code>&lt;script src="script/move-util.js">&lt;/script></code></li></ul></li><li>开发 <code>heartMove()</code> 方法: 让爱心自己左右移动，并在加载函数中调用。</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>heartMove</span>();
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 爱心运动特效 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>heartMove</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 获取爱心运动面板和爱心元素
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>heartBoard</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#34;#heartBoard&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>heart</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#34;#heart&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 设置运动周期: 数值越大，运动越快，默认50毫秒
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>period</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 设置缓冲常数: 数值越大，幅度越大，默认10
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>speedNum</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>250</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 设置回调函数: 每次运动结束后自动调用
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>callback</span>() {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 若爱心当前位置为最左侧，则开始向右移动
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>heart</span>.<span style=color:#a6e22e>offsetLeft</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>move</span>(<span style=color:#a6e22e>heart</span>, {
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;target&#39;</span><span style=color:#f92672>:</span> {<span style=color:#e6db74>&#39;left&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>heartBoard</span>.<span style=color:#a6e22e>offsetWidth</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>heart</span>.<span style=color:#a6e22e>offsetWidth</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;px&#39;</span>},
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;period&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>period</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;speedNum&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>speedNum</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;callback&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>callback</span>
</span></span><span style=display:flex><span>            });
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 若爱心当前位置为最右侧，则开始向左移动
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>move</span>(<span style=color:#a6e22e>heart</span>, {
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;target&#39;</span><span style=color:#f92672>:</span> {<span style=color:#e6db74>&#39;left&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;0&#39;</span>},
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;period&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>period</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;speedNum&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>speedNum</span>, <span style=color:#e6db74>&#39;callback&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>callback</span>
</span></span><span style=display:flex><span>            });
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 手动调用一次callback函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>callback</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e05-鼠标跟随功能>E05. 鼠标跟随功能</h2><blockquote><p>武技: 在主页 <code>&lt;body id="index-body">&lt;/body></code> 中布局鼠标跟随图片</p></blockquote><ol><li>引入鼠标跟随图片 <code>webapp/image/java.png</code>。</li><li>布局鼠标跟随图片:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!--鼠标跟随图片--&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>aside</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mouseFollow&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mouse-follow&#34;</span>&gt;&lt;/<span style=color:#f92672>aside</span>&gt;
</span></span></code></pre></div><ol start=3><li>美化鼠标跟随图片:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/*鼠标跟随图片*/</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>mouse-follow</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*宽度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>20</span><span style=color:#66d9ef>px</span>; <span style=color:#75715e>/*高度*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-image</span>: url(<span style=color:#e6db74>../image/java.png</span>); <span style=color:#75715e>/*背景图片*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background-size</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span> <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>; <span style=color:#75715e>/*背景图片尺寸*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>position</span>: <span style=color:#66d9ef>absolute</span>; <span style=color:#75715e>/*绝对定位*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>z-index</span>: <span style=color:#ae81ff>999</span>; <span style=color:#75715e>/*Z轴*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=4><li>开发 <code>mouseFollow()</code> 方法: 让爱心自己左右移动，并在加载函数中调用。</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 当鼠标在整个文档上移动时触发
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    document.<span style=color:#a6e22e>onmousemove</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>ev</span>) =&gt; <span style=color:#a6e22e>mouseFollow</span>(<span style=color:#a6e22e>ev</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 鼠标跟随图片特效 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>mouseFollow</span>(<span style=color:#a6e22e>ev</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mouseFollow</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#39;#mouseFollow&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 设置mouseFollow的左距离 = 鼠标横坐标 - mouseFollow自身宽度 + &#39;px&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>mouseFollow</span>[<span style=color:#e6db74>&#34;style&#34;</span>][<span style=color:#e6db74>&#34;left&#34;</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>ev</span>.<span style=color:#a6e22e>clientX</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>mouseFollow</span>.<span style=color:#a6e22e>offsetWidth</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;px&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 设置mouseFollow的上距离 = 鼠标纵坐标 - mouseFollow自身高度 + &#39;px&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>mouseFollow</span>[<span style=color:#e6db74>&#34;style&#34;</span>][<span style=color:#e6db74>&#34;top&#34;</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>ev</span>.<span style=color:#a6e22e>clientY</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>mouseFollow</span>.<span style=color:#a6e22e>offsetHeight</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;px&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e06-用户记忆功能>E06. 用户记忆功能</h2><blockquote><p>武技: 在主页右上角展示用户名</p></blockquote><ol><li>开发 <code>showUsername()</code> 方法: 右上角展示用户名，并在加载函数中调用:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>showUsername</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 右上角展示用户名 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>showUsername</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>username</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sessionStorage</span>.<span style=color:#a6e22e>getItem</span>(<span style=color:#e6db74>&#34;username&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>username</span>) <span style=color:#a6e22e>username</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;游客&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#34;#usernameSpan&#34;</span>).<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>username</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e07-项目信息功能>E07. 项目信息功能</h2><blockquote><p>武技: 在主页右侧获取并展示项目信息</p></blockquote><ol><li>开发 <code>showInfo()</code> 方法: 获取并展示项目信息，并在加载函数中调用:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>showInfo</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 利用Ajax向服务器发送查询项目信息请求 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>showInfo</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ajax</span>({
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;url&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>appName</span><span style=color:#e6db74>}</span><span style=color:#e6db74>/api/v1/info`</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;type&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;get&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;success&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>resp</span> =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>code</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>successCode</span>){
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#34;#title&#34;</span>).<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>data</span>[<span style=color:#e6db74>&#39;title&#39;</span>];
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#34;#subTitle&#34;</span>).<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>data</span>[<span style=color:#e6db74>&#39;subTitle&#39;</span>];
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#34;#content&#34;</span>).<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>data</span>[<span style=color:#e6db74>&#39;content&#39;</span>];
</span></span><span style=display:flex><span>            }<span style=color:#66d9ef>else</span> <span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e08-模块列表功能>E08. 模块列表功能</h2><blockquote><p>武技: 在主页左侧获取全部模块并渲染到下拉菜单中</p></blockquote><ol><li>开发 <code>listModule()</code> 方法: 获取并展示项目信息，并在加载函数中调用:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>listModule</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 利用Ajax向服务器发送查询全部模块请求 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>listModule</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ajax</span>({
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;url&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>appName</span><span style=color:#e6db74>}</span><span style=color:#e6db74>/api/v1/module?meta=list`</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;type&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;get&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;success&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>resp</span> =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 查询成功: 渲染模块下拉菜单的内容
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>code</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>successCode</span>) <span style=color:#a6e22e>renderModuleSelector</span>(<span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>重写 <code>renderModuleSelector()</code> 方法: 渲染模块下拉菜单的内容:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/* 渲染模块下拉菜单的内容 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>renderModuleSelector</span>(<span style=color:#a6e22e>data</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>moduleSelector</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#39;#moduleSelector&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 遍历数据
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 通过标签名凭空创造一个DOM元素
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>option</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>create</span>(<span style=color:#e6db74>&#39;option&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;module_id&#39;</span>];
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;module_name&#39;</span>];
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 1号模块默认选中
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;module_id&#39;</span>] <span style=color:#f92672>===</span> <span style=color:#ae81ff>1</span>) <span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>selected</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 父.appendChild(子): 若子元素本身存在则表示移动到末尾，若子元素不存在则表示追加
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>moduleSelector</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>option</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e09-方法列表功能>E09. 方法列表功能</h2><blockquote><p>武技: 在主页左侧获取第一个模块的全部接口方法并渲染到接口方法列表中</p></blockquote><ol><li>开发 <code>showMethodsByModuleId()</code> 方法: 展示接口列表，并在加载函数中调用:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>showMethodsByModuleId</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 展示指定模块下的全部方法 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>showMethodsByModuleId</span>(<span style=color:#a6e22e>moduleId</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ajax</span>({
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;url&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>appName</span><span style=color:#e6db74>}</span><span style=color:#e6db74>/api/v1/method?meta=selectByModuleId&amp;moduleId=`</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>moduleId</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;type&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;get&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;success&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>resp</span> =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 查询成功: 渲染方法列表
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>code</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>successCode</span>) {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>renderMethodList</span>(<span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 渲染方法列表 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>renderMethodList</span>(<span style=color:#a6e22e>data</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>重写 <code>renderMethodList()</code> 方法: 渲染方法列表:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/* 渲染方法列表 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>renderMethodList</span>(<span style=color:#a6e22e>data</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>methodList</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#34;#methodList&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>methodList</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>item</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>create</span>(<span style=color:#e6db74>&#39;article&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>className</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;method-list-item&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;method_title&#39;</span>];
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>onclick</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 根据class值获取全部item项
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>methodList</span>.<span style=color:#a6e22e>querySelectorAll</span>(<span style=color:#e6db74>&#39;.method-list-item&#39;</span>);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 将全部item项的边框取消
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>item</span> =&gt; <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>style</span>[<span style=color:#e6db74>&#39;border&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;none&#39;</span>);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 对当前选中的item项添加边框
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>style</span>[<span style=color:#e6db74>&#39;border&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;1px solid black&#39;</span>;
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 渲染方法基础信息
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>renderMethodInfo</span>(<span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>i</span>]);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 渲染方法参数信息
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>renderParamInfo</span>(<span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;params&#39;</span>]);
</span></span><span style=display:flex><span>            <span style=color:#75715e>// 渲染方法返回值信息
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>renderReturnInfo</span>(<span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;returns&#39;</span>]);
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>        <span style=color:#75715e>/*当鼠标移入时触发: 字体变大*/</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>onmouseover</span> <span style=color:#f92672>=</span> () =&gt; <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>style</span>[<span style=color:#e6db74>&#39;font-size&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;large&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#75715e>/*当鼠标移出时触发: 字体恢复*/</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>onmouseout</span> <span style=color:#f92672>=</span> () =&gt; <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>style</span>[<span style=color:#e6db74>&#39;font-size&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>methodList</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>item</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 渲染方法基础信息 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>renderMethodInfo</span>(<span style=color:#a6e22e>method</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>method</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 渲染方法参数信息 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>renderParamInfo</span>(<span style=color:#a6e22e>methods</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>methods</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 渲染方法返回值信息 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>renderReturnInfo</span>(<span style=color:#a6e22e>returns</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>returns</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>重写 <code>renderMethodInfo()</code> 方法: 渲染方法基础信息:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/* 渲染方法基础信息 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>renderMethodInfo</span>(<span style=color:#a6e22e>method</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#39;#methodTitle&#39;</span>).<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>method</span>[<span style=color:#e6db74>&#39;method_itle&#39;</span>];
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#39;#requestMethodBtn&#39;</span>).<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>method</span>[<span style=color:#e6db74>&#39;request_method&#39;</span>];
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#39;#requestUrl&#39;</span>).<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>method</span>[<span style=color:#e6db74>&#39;request_url&#39;</span>];
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#39;#methodInfo&#39;</span>).<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>method</span>[<span style=color:#e6db74>&#39;method_info&#39;</span>];
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#39;#requestMime&#39;</span>).<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>method</span>[<span style=color:#e6db74>&#39;request_mime&#39;</span>];
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#39;#responseMime&#39;</span>).<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>method</span>[<span style=color:#e6db74>&#39;response_mime&#39;</span>];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=4><li>重写 <code>renderParamInfo()</code> 方法: 渲染方法参数信息:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/* 渲染方法参数信息 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>renderParamInfo</span>(<span style=color:#a6e22e>methods</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>paramTbody</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#39;#paramTbody&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>paramTbody</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>methods</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>tr</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>create</span>(<span style=color:#e6db74>&#39;tr&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>methods</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;param_name&#39;</span>]));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>methods</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;param_type&#39;</span>]));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>methods</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;required&#39;</span>] <span style=color:#f92672>===</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;是&#39;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;否&#39;</span>));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>methods</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;default_value&#39;</span>] <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#f92672>?</span> 
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;无&#39;</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>methods</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;default_value&#39;</span>]));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>methods</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;param_info&#39;</span>]));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>toDate</span>(<span style=color:#a6e22e>methods</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;create_time&#39;</span>])));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>toDate</span>(<span style=color:#a6e22e>methods</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;modify_time&#39;</span>])));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>paramTbody</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>tr</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=5><li>重写 <code>renderReturnInfo()</code> 方法: 渲染方法返回值信息:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/* 渲染方法返回值信息 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>renderReturnInfo</span>(<span style=color:#a6e22e>returns</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>returnTbody</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#39;#returnTbody&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>returnTbody</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>returns</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>tr</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>create</span>(<span style=color:#e6db74>&#39;tr&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>returns</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;return_code&#39;</span>]));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>returns</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;return_message&#39;</span>]));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>returns</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;return_data&#39;</span>] <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;&#39;</span> 
</span></span><span style=display:flex><span>            <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;无&#39;</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>returns</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;return_data&#39;</span>]));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>toDate</span>(<span style=color:#a6e22e>returns</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;create_time&#39;</span>])));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>createTd</span>(<span style=color:#a6e22e>toDate</span>(<span style=color:#a6e22e>returns</span>[<span style=color:#a6e22e>i</span>][<span style=color:#e6db74>&#39;modify_time&#39;</span>])));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>returnTbody</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>tr</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=ep10-模块切换功能>EP10. 模块切换功能</h2><blockquote><p>武技: 开发JS功能: 当更改下拉菜单时，切换当前模块的全部接口方法</p></blockquote><ol><li>开发 <code>showMethodsByModuleId()</code> 方法: 展示接口列表，并在加载函数中调用:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>query</span>(<span style=color:#e6db74>&#39;#moduleSelector&#39;</span>).<span style=color:#a6e22e>onchange</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ev</span> =&gt; <span style=color:#a6e22e>changeModule</span>(<span style=color:#a6e22e>ev</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* 当模块下拉菜单改变时触发 */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>changeModule</span>(<span style=color:#a6e22e>ev</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 获取当前下拉菜单的value值并传递给 `showMethodsByModuleId()` 方法
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>showMethodsByModuleId</span>(<span style=color:#a6e22e>ev</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>value</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><svg id="btt-button" class="arrow-logo" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512" onclick="scrollToTop()" title="Go to top"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg>
<script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function scrollToTop(){window.scrollTo(0,0)}</script></div></main><footer class=footer><span>&copy; 2024 The Marauders</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/gokarna-theme/gokarna-hugo>Gokarna</a></span></footer></body></html>